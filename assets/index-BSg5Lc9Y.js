import{ah as h,f as R}from"./index-CwDalt6B.js";import{i as L,d,u as g}from"./isBrowser-BdZk1G-M.js";import{b as v}from"./@uiw/react-codemirror-dimZJgSu.js";function o(e,i){if(L){if(!e)return i;var r;return h(e)?r=e():"current"in e?r=e.current:r=e,r}}var A=function(e){var i=function(r,a,c){var s=v.useRef(!1),t=v.useRef([]),f=v.useRef([]),u=v.useRef(void 0);e(function(){var n,E=Array.isArray(c)?c:[c],l=E.map(function(m){return o(m)});if(!s.current){s.current=!0,t.current=l,f.current=a,u.current=r();return}(l.length!==t.current.length||!d(t.current,l)||!d(f.current,a))&&((n=u.current)===null||n===void 0||n.call(u),t.current=l,f.current=a,u.current=r())}),g(function(){var n;(n=u.current)===null||n===void 0||n.call(u),s.current=!1})};return i},y=A(v.useEffect);function w(e,i,r){r===void 0&&(r={});var a=r.enable,c=a===void 0?!0:a,s=R(i);y(function(){if(c){var t=o(r.target,window);if(t?.addEventListener){var f=function(n){return s.current(n)},u=Array.isArray(e)?e:[e];return u.forEach(function(n){t.addEventListener(n,f,{capture:r.capture,once:r.once,passive:r.passive})}),function(){u.forEach(function(n){t.removeEventListener(n,f,{capture:r.capture})})}}}},[e,r.capture,r.once,r.passive,c],r.target)}export{y as a,A as c,o as g,w as u};
