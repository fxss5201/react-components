import{e as Y,y as ae,Y as U,Z as le,D as ie,bj as de,n as V,bs as fe}from"./index-CwDalt6B.js";import{b as r,R as h}from"./@uiw/react-codemirror-dimZJgSu.js";import{u as ue,T as me,S as he,f as W,c as ge,e as ye,R as be,h as xe,j as Ce}from"./iconUtil-nk-7A3wh.js";import{_ as F}from"./react-syntax-highlighter-DW6ulm9l.js";var Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function A(){return A=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(n[e]=s[e])}return n},A.apply(this,arguments)}const pe=(n,t)=>r.createElement(Y,A({},n,{ref:t,icon:Ne})),Ee=r.forwardRef(pe);var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function B(){return B=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(n[e]=s[e])}return n},B.apply(this,arguments)}const we=(n,t)=>r.createElement(Y,B({},n,{ref:t,icon:ve})),Oe=r.forwardRef(we);var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};function X(){return X=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var e in s)Object.prototype.hasOwnProperty.call(s,e)&&(n[e]=s[e])}return n},X.apply(this,arguments)}const Re=(n,t)=>r.createElement(Y,X({},n,{ref:t,icon:Ke})),Se=r.forwardRef(Re),q=4;function Te(n){const{dropPosition:t,dropLevelOffset:s,prefixCls:e,indent:l,direction:a="ltr"}=n,o=a==="ltr"?"left":"right",d=a==="ltr"?"right":"left",c={[o]:-s*l+q,[d]:0};switch(t){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[o]=l+q;break}return h.createElement("div",{style:c,className:`${e}-drop-indicator`})}const ee=h.forwardRef((n,t)=>{const{getPrefixCls:s,direction:e,className:l,style:a,classNames:o,styles:d}=ae("tree"),{virtual:c}=h.useContext(U),{prefixCls:R,className:S,showIcon:x=!1,showLine:T,switcherIcon:I,switcherLoadingIcon:H,blockNode:w=!1,children:j,checkable:C=!1,selectable:N=!0,draggable:y,disabled:z,motion:O,style:M,rootClassName:m,classNames:u,styles:$}=n,p=h.useContext(le),K=z??p,i=s("tree",R),E=s(),b=O??{...fe(E),motionAppear:!1},v={...n,showIcon:x,blockNode:w,checkable:C,selectable:N,disabled:K,motion:b},[D,P]=ie([o,u],[d,$],{props:v}),f={...n,checkable:C,selectable:N,showIcon:x,motion:b,blockNode:w,disabled:K,showLine:!!T,dropIndicatorRender:Te},[ne,se]=ue(i),[,k]=de(),oe=k.paddingXS/2+(k.Tree?.titleHeight||k.controlHeightSM),ce=h.useMemo(()=>{if(!y)return!1;let g={};switch(typeof y){case"function":g.nodeDraggable=y;break;case"object":g={...y};break}return g.icon!==!1&&(g.icon=g.icon||h.createElement(Se,null)),g},[y]),re=g=>h.createElement(he,{prefixCls:i,switcherIcon:I,switcherLoadingIcon:H,treeNodeProps:g,showLine:T});return h.createElement(me,{itemHeight:oe,ref:t,virtual:c,...f,prefixCls:i,className:V({[`${i}-icon-hide`]:!x,[`${i}-block-node`]:w,[`${i}-unselectable`]:!N,[`${i}-rtl`]:e==="rtl",[`${i}-disabled`]:K},l,S,ne,se),style:{...a,...M},rootClassName:V(D?.root,m),rootStyle:P?.root,classNames:D,styles:P,direction:e,checkable:C&&h.createElement("span",{className:`${i}-checkbox-inner`}),selectable:N,switcherIcon:re,draggable:ce},j)}),G=0,L=1,J=2;function Z(n,t,s){const{key:e,children:l}=s;function a(o){const d=o[e],c=o[l];t(d,o)!==!1&&Z(c||[],t,s)}n.forEach(a)}function $e({treeData:n,expandedKeys:t,startKey:s,endKey:e,fieldNames:l}){const a=[];let o=G;if(s&&s===e)return[s];if(!s||!e)return[];function d(c){return c===s||c===e}return Z(n,c=>{if(o===J)return!1;if(d(c)){if(a.push(c),o===G)o=L;else if(o===L)return o=J,!1}else o===L&&a.push(c);return t.includes(c)},W(l)),a}function _(n,t,s){const e=F(t),l=[];return Z(n,(a,o)=>{const d=e.indexOf(a);return d!==-1&&(l.push(o),e.splice(d,1)),!!e.length},W(s)),l}function De(n){const{isLeaf:t,expanded:s}=n;return t?r.createElement(be,null):s?r.createElement(Ee,null):r.createElement(Oe,null)}function Q({treeData:n,children:t}){return n||xe(t)}const Pe=({defaultExpandAll:n,defaultExpandParent:t,defaultExpandedKeys:s,...e},l)=>{const a=r.useRef(null),o=r.useRef(null),d=()=>{const{keyEntities:m}=ge(Q(e),{fieldNames:e.fieldNames});let u;return n?u=Object.keys(m):t?u=ye(e.expandedKeys||s||[],m):u=e.expandedKeys||s||[],u},[c,R]=r.useState(e.selectedKeys||e.defaultSelectedKeys||[]),[S,x]=r.useState(()=>d());r.useEffect(()=>{"selectedKeys"in e&&R(e.selectedKeys)},[e.selectedKeys]),r.useEffect(()=>{"expandedKeys"in e&&x(e.expandedKeys)},[e.expandedKeys]);const T=(m,u)=>("expandedKeys"in e||x(m),e.onExpand?.(m,u)),I=(m,u)=>{const{multiple:$,fieldNames:p}=e,{node:K,nativeEvent:i}=u,{key:E=""}=K,b=Q(e),v={...u,selected:!0},D=i?.ctrlKey||i?.metaKey,P=i?.shiftKey;let f;$&&D?(f=m,a.current=E,o.current=f,v.selectedNodes=_(b,f,p)):$&&P?(f=Array.from(new Set([].concat(F(o.current||[]),F($e({treeData:b,expandedKeys:S,startKey:E,endKey:a.current,fieldNames:p}))))),v.selectedNodes=_(b,f,p)):(f=[E],a.current=E,o.current=f,v.selectedNodes=_(b,f,p)),e.onSelect?.(f,v),"selectedKeys"in e||R(f)},{getPrefixCls:H,direction:w}=r.useContext(U),{prefixCls:j,className:C,showIcon:N=!0,expandAction:y="click",...z}=e,O=H("tree",j),M=V(`${O}-directory`,{[`${O}-directory-rtl`]:w==="rtl"},C);return r.createElement(ee,{icon:De,ref:l,blockNode:!0,...z,showIcon:N,expandAction:y,prefixCls:O,className:M,expandedKeys:S,selectedKeys:c,onSelect:I,onExpand:T})},Ie=r.forwardRef(Pe),te=ee;te.DirectoryTree=Ie;te.TreeNode=Ce;export{te as T};
