import{b as F,j as P}from"./@uiw/react-codemirror-dimZJgSu.js";import{c as q,ae as v,B as N}from"./index-CwDalt6B.js";import{u as T,b as k,d as E,p as G,a as M,g as K,s as z}from"./TablePage-CQ77qt_-.js";import{T as A}from"./TablePageBox-C0tnpkqL.js";import"./react-syntax-highlighter-DW6ulm9l.js";import"./markdown-plugins-CqPL4kxN.js";import"./react-markdown-U0gPFawi.js";import"./index-D6hL_xQQ.js";import"./isBrowser-BdZk1G-M.js";import"./isObjectLike-Dgt2gYKP.js";import"./use-immer.module-BUjbJLOH.js";import"./FormBlock-DxTtaAkV.js";import"./Pagination-tZ5961FD.js";import"./progress-B267_-79.js";import"./iconUtil-nk-7A3wh.js";import"./index-C1Uc0xMy.js";import"./index-abs6yZev.js";import"./index-C7j3i05K.js";import"./Table-NZRh8s1K.js";import"./index-D7f8rzsr.js";function pe(){const e=q.c(31),p=F.useRef(null);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],e[0]=u):u=e[0];const[t,j]=F.useState(u),[,B]=F.useState();let c;e[1]!==B?(c={retryCount:3,onSuccess:H=>{const R=H?.data?.data||[],w=R[0]?.id;j(R),B(w),p.current?.formQuery.setFieldsValue({groupId:w}),p.current?.getRun({page:1,pageSize:10,groupId:w})}},e[1]=B,e[2]=c):c=e[2];const{loading:l}=T(k,c);let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[{title:"ID",dataIndex:"id"},{title:"姓名",dataIndex:"name"},{title:"年龄",dataIndex:"age"}],e[3]=d):d=e[3];const C=d;let o;e[4]!==t?(o=t.map(L),e[4]=t,e[5]=o):o=e[5];let f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f={width:"218px"},e[6]=f):f=e[6];let a;e[7]!==l||e[8]!==o?(a={type:"Select",name:"groupId",label:null,fieldProps:{loading:l,allowClear:!0,placeholder:"请选择组",options:o,style:f}},e[7]=l,e[8]=o,e[9]=a):a=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y={type:"Input",name:"name",label:null,fieldProps:{prefix:P.jsx(v,{}),allowClear:!0,placeholder:"请输入姓名"}},e[10]=y):y=e[10];let b;e[11]===Symbol.for("react.memo_cache_sentinel")?(b={type:"Button",fieldProps:{type:"primary",htmlType:"submit",children:"搜索"},label:null},e[11]=b):b=e[11];let r;e[12]!==a?(r={items:[a,y,b]},e[12]=a,e[13]=r):r=e[13];let g;e[14]===Symbol.for("react.memo_cache_sentinel")?(g=P.jsx(N,{color:"primary",onClick:()=>{p.current?.modalAddFn({name:"",age:0,groupId:void 0})},children:"添加学生"}),e[14]=g):g=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=[{required:!0}],e[15]=S):S=e[15];let s;e[16]!==t?(s=t.map(D),e[16]=t,e[17]=s):s=e[17];let n;e[18]!==l||e[19]!==s?(n={type:"Select",name:"groupId",label:"分组",rules:S,className:"pt-4",fieldProps:{loading:l,allowClear:!0,placeholder:"请选择组",options:s}},e[18]=l,e[19]=s,e[20]=n):n=e[20];let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_={type:"Input",name:"name",label:"姓名",rules:[{required:!0}],fieldProps:{allowClear:!0,placeholder:"请输入姓名"}},e[21]=_):_=e[21];let h;e[22]===Symbol.for("react.memo_cache_sentinel")?(h={type:"InputNumber",name:"age",label:"年龄",rules:[{required:!0}],fieldProps:{min:1,placeholder:"请输入年龄",className:"w-full"}},e[22]=h):h=e[22];let i;e[23]!==n?(i={formBlockItems:[n,_,h]},e[23]=n,e[24]=i):i=e[24];let m;e[25]!==i||e[26]!==r?(m={rowKey:"id",columns:C,localKey:"StudentsBoxManualPage",formBlockProps:r,actions:g,formModalProps:i},e[25]=i,e[26]=r,e[27]=m):m=e[27];let x;e[28]===Symbol.for("react.memo_cache_sentinel")?(x={manual:!0},e[28]=x):x=e[28];let I;return e[29]!==m?(I=P.jsx("div",{className:"px-4",children:P.jsx(A,{ref:p,modalTitle:"学生",tablePageProps:m,getFn:z,getOptions:x,getItemFn:K,addFn:M,putFn:G,delFn:E})}),e[29]=m,e[30]=I):I=e[30],I}function D(e){return{label:e.name,value:e.id}}function L(e){return{label:e.name,value:e.id}}export{pe as default};
