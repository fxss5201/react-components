import{b as H,R as p}from"./@uiw/react-codemirror-dimZJgSu.js";import{n as Y,t as Ne,o as te,p as Pe,q as Oe,r as Re,s as ke,v as Be,w as _e,x as Te,y as Xe,z as Ue,A as Ye,D as Ae,E as Le}from"./index-CwDalt6B.js";import{_ as be}from"./react-syntax-highlighter-DW6ulm9l.js";const De=H.forwardRef((e,r)=>{const{prefixCls:i,className:l,children:a,size:g,style:d={}}=e,m=Y(`${i}-panel`,{[`${i}-panel-hidden`]:g===0},l),f=g!==void 0;return p.createElement("div",{ref:r,className:m,style:{...d,flexBasis:f?g:"auto",flexGrow:f?0:1}},a)}),Ve=()=>null;function He(e){if(e&&typeof e=="object")return{...e,showCollapsibleIcon:e.showCollapsibleIcon===void 0?"auto":e.showCollapsibleIcon};const r=!!e;return{start:r,end:r,showCollapsibleIcon:"auto"}}function je(e){return H.useMemo(()=>Ne(e).filter(i=>H.isValidElement(i)).map(i=>{const{props:l}=i,{collapsible:a,...g}=l;return{...g,collapsible:He(a)}}),[e])}function ge(e,r){return e.collapsible&&r.collapsible?e.showCollapsibleIcon===!0||r.showCollapsibleIcon===!0?!0:e.showCollapsibleIcon==="auto"||r.showCollapsibleIcon==="auto"?"auto":!1:e.collapsible?e.showCollapsibleIcon:r.collapsible?r.showCollapsibleIcon:!1}function Fe(e,r,i){return H.useMemo(()=>{const l=[];for(let a=0;a<e.length-1;a+=1){const g=e[a],d=e[a+1],m=r[a],f=r[a+1],{resizable:h=!0,min:x,collapsible:n}=g,{resizable:b=!0,min:M,collapsible:t}=d,s=h&&b&&(m!==0||!x)&&(f!==0||!M),z=!!n.end&&m>0,P=!!t.start&&f===0&&m>0,A=z||P,E=!!t.start&&f>0,c=!!n.end&&m===0&&f>0,N=E||c,C=ge({collapsible:z,showCollapsibleIcon:n.showCollapsibleIcon},{collapsible:P,showCollapsibleIcon:t.showCollapsibleIcon}),o=ge({collapsible:E,showCollapsibleIcon:t.showCollapsibleIcon},{collapsible:c,showCollapsibleIcon:n.showCollapsibleIcon});l[a]={resizable:s,startCollapsible:!!(i?N:A),endCollapsible:!!(i?A:N),showStartCollapsibleIcon:i?o:C,showEndCollapsibleIcon:i?C:o}}return l},[r,e,i])}function We(e,r,i){let l=0;const a=[];e.forEach((t,s)=>{t===void 0?a.push(s):l+=t});const g=1-l,d=a.length;if(e.length&&!a.length&&l!==1){if(l===0){const s=1/e.length;return e.map(()=>s)}const t=1/l;return e.map(s=>s*t)}if(g<0){const t=1/l;return e.map(s=>s===void 0?0:s*t)}let m=0,f=0,h=0,x=1;for(const t of a){const s=r[t]||0,z=i[t]||1;m+=s,f+=z,h=Math.max(h,s),x=Math.min(x,z)}if(m>1&&f<1){const t=1/d;return e.map(s=>s===void 0?t:s)}const n=g/d;if(h<=n&&n<=x)return e.map(t=>t===void 0?n:t);const b=be(e);let M=g-m;for(let t=0;t<d;t+=1){const s=a[t],z=r[s]||0,P=i[s]||1;b[s]=z;const A=P-z,E=Math.min(A,M);b[s]+=E,M-=E}return b}function ie(e){return Number(e.slice(0,-1))/100}function fe(e){return typeof e=="string"&&e.endsWith("%")}function qe(e,r){const i=e.map(t=>t.size),l=e.length,a=r||0,g=t=>t*a,[d,m]=p.useState(()=>e.map(t=>t.defaultSize)),f=p.useMemo(()=>{const t=[];for(let s=0;s<l;s+=1)t[s]=i[s]??d[s];return t},[l,d,i]),h=p.useMemo(()=>e.map(t=>fe(t.min)?ie(t.min):(t.min||0)/a),[e,a]),x=p.useMemo(()=>e.map(t=>fe(t.max)?ie(t.max):(t.max||a)/a),[e,a]),n=p.useMemo(()=>{const t=[];for(let s=0;s<l;s+=1){const z=f[s];if(fe(z))t[s]=ie(z);else if(z||z===0){const P=Number(z);Number.isNaN(P)||(t[s]=P/a)}else t[s]=void 0}return We(t,h,x)},[l,f,a,h,x]),b=p.useMemo(()=>n.map(g),[n,a]);return[p.useMemo(()=>r?b:f,[b,f,r]),b,n,h,x,m]}function Ge(e,r,i,l,a,g){const d=e.map(c=>[c.min,c.max]),m=l||0,f=c=>c*m;function h(c,N){return typeof c=="string"?f(ie(c)):c??N}const[x,n]=H.useState([]),b=H.useRef([]),[M,t]=H.useState(null),s=()=>i.map(f);return[c=>{n(s()),t({index:c,confirmed:!1})},(c,N)=>{let C=null;if((!M||!M.confirmed)&&N!==0){if(N>0)C=c,t({index:c,confirmed:!0});else for(let $=c;$>=0;$-=1)if(x[$]>0&&r[$].resizable){C=$,t({index:$,confirmed:!0});break}}const o=C??M?.index??c,u=be(x),v=o+1,O=h(d[o][0],0),_=h(d[v][0],0),R=h(d[o][1],m),L=h(d[v][1],m);let w=N;return u[o]+w<O&&(w=O-u[o]),u[v]-w<_&&(w=u[v]-_),u[o]+w>R&&(w=R-u[o]),u[v]-w>L&&(w=u[v]-L),u[o]+=w,u[v]-=w,a(u),u},()=>{t(null)},(c,N)=>{const C=s(),o=g?N==="start"?"end":"start":N,u=o==="start"?c:c+1,v=o==="start"?c+1:c,O=C[u],_=C[v];if(O!==0&&_!==0)C[u]=0,C[v]+=O,b.current[c]=O;else{const R=O+_,L=h(d[u][0],0),w=h(d[u][1],m),$=h(d[v][0],0),F=h(d[v][1],m),J=Math.max(L,R-F),K=Math.min(w,R-$),q=$||(K-J)/2,U=b.current[c],j=R-U;U&&U<=F&&U>=$&&j<=w&&j>=L?(C[v]=U,C[u]=j):(C[u]-=q,C[v]+=q)}return a(C),C},M?.index]}function me(e){return typeof e=="number"&&!Number.isNaN(e)&&Number.isFinite(e)?Math.round(e):0}const Je=e=>{const{prefixCls:r,vertical:i,index:l,active:a,ariaNow:g,ariaMin:d,ariaMax:m,resizable:f,draggerIcon:h,draggerStyle:x,draggerClassName:n,collapsibleIcon:b,startCollapsible:M,endCollapsible:t,onOffsetStart:s,onOffsetUpdate:z,onOffsetEnd:P,onCollapse:A,lazy:E,containerSize:c,showStartCollapsibleIcon:N,showEndCollapsibleIcon:C}=e,o=`${r}-bar`,[u,v]=H.useState(null),[O,_]=H.useState(0),R=i?0:O,L=i?O:0,w=I=>{f&&I.currentTarget&&(v([I.pageX,I.pageY]),s(l))},$=I=>{if(f&&I.touches.length===1){const k=I.touches[0];v([k.pageX,k.pageY]),s(l)}},F=I=>{const k=c*g/100,D=k+I,W=Math.max(0,c*d/100),Q=Math.min(c,c*m/100);return Math.max(W,Math.min(Q,D))-k},J=te((I,k)=>{const D=F(i?k:I);_(D)}),K=te(()=>{z(l,R,L,!0),_(0),P(!0)}),q=I=>{switch(I){case!0:return`${o}-collapse-bar-always-visible`;case!1:return`${o}-collapse-bar-always-hidden`;case"auto":return`${o}-collapse-bar-hover-only`}};Pe(()=>{if(!u)return;const Q={mousemove:T=>{const{pageX:V,pageY:Z}=T,G=V-u[0],le=Z-u[1];E?J(G,le):z(l,G,le)},mouseup:()=>{E?K():P(),v(null)},touchmove:T=>{if(T.touches.length===1){const V=T.touches[0],Z=V.pageX-u[0],G=V.pageY-u[1];E?J(Z,G):z(l,Z,G)}},touchend:()=>{E?K():P(),v(null)}};for(const[T,V]of Object.entries(Q))window.addEventListener(T,V);return()=>{for(const[T,V]of Object.entries(Q))window.removeEventListener(T,V)}},[u,l,E]);const U={[`--${o}-preview-offset`]:`${O}px`},[j,ne,ae,ce]=p.useMemo(()=>{let I=null,k=null;const D=b?.start!==void 0,W=b?.end!==void 0;return i?(I=D?b.start:p.createElement(Oe,null),k=W?b.end:p.createElement(Re,null)):(I=D?b.start:p.createElement(ke,null),k=W?b.end:p.createElement(Be,null)),[I,k,D,W]},[b,i]);return p.createElement("div",{className:o,role:"separator","aria-valuenow":me(g),"aria-valuemin":me(d),"aria-valuemax":me(m)},E&&p.createElement("div",{className:Y(`${o}-preview`,{[`${o}-preview-active`]:!!O}),style:U}),p.createElement("div",{style:x,className:Y(`${o}-dragger`,{[`${o}-dragger-disabled`]:!f,[`${o}-dragger-active`]:a,[`${o}-dragger-customize`]:h!==void 0},n?.default,a&&n?.active),onMouseDown:w,onTouchStart:$},h!==void 0?p.createElement("div",{className:Y(`${o}-dragger-icon`)},h):null),M&&p.createElement("div",{className:Y(`${o}-collapse-bar`,`${o}-collapse-bar-start`,{[`${o}-collapse-bar-customize`]:ae},q(N)),onClick:()=>A(l,"start")},p.createElement("span",{className:Y(`${o}-collapse-icon`,`${o}-collapse-start`)},j)),t&&p.createElement("div",{className:Y(`${o}-collapse-bar`,`${o}-collapse-bar-end`,{[`${o}-collapse-bar-customize`]:ce},q(C)),onClick:()=>A(l,"end")},p.createElement("span",{className:Y(`${o}-collapse-icon`,`${o}-collapse-end`)},ne)))},oe={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},Ke=e=>{const{componentCls:r,colorFill:i,splitBarDraggableSize:l,splitBarSize:a,splitTriggerSize:g,controlItemBgHover:d,controlItemBgActive:m,controlItemBgActiveHover:f,prefixCls:h,colorPrimary:x}=e,n=`${r}-bar`,b=`${r}-mask`,M=`${r}-panel`,t=e.calc(g).div(2).equal(),s=`${h}-bar-preview-offset`,z={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[r]:{...Te(e),display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${n}`]:{flex:"none",position:"relative",userSelect:"none",[`${n}-dragger`]:{...oe,zIndex:1,"&::before":{content:'""',background:d,...oe},"&::after":{content:'""',background:i,...oe},[`&:hover:not(${n}-dragger-active)`]:{"&::before":{background:m}},"&-active":{zIndex:2,"&::before":{background:f}},[`&-active${n}-dragger-customize`]:{[`${n}-dragger-icon`]:{color:x}},[`&-disabled${n}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:d}},"&::after":{display:"none"},[`${n}-dragger-icon`]:{display:"none"}},"&-customize":{[`${n}-dragger-icon`]:{...oe,display:"flex",alignItems:"center",color:i},"&::after":{display:"none"}}},[`${n}-collapse-bar`]:{...oe,zIndex:e.zIndexPopupBase,background:d,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center",[`&:hover:not(${n}-collapse-bar-customize)`]:{background:m},[`&:active:not(${n}-collapse-bar-customize)`]:{background:f},[`${n}-collapse-icon`]:{display:"flex",alignItems:"center"}},[`${n}-collapse-bar-customize`]:{background:"transparent"},"&:hover, &:active":{[`${n}-collapse-bar-hover-only`]:{opacity:1}},[`${n}-collapse-bar-hover-only`]:{"@media(hover:none)":{opacity:1}},[`${n}-collapse-bar-always-hidden`]:{display:"none"},[`${n}-collapse-bar-always-visible`]:{opacity:1}},[b]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${n}`]:{width:0,[`${n}-preview`]:{height:"100%",width:a,...z,[`&${n}-preview-active`]:{display:"block",transform:`translateX(var(--${s}))`}},[`${n}-dragger`]:{cursor:"col-resize",height:"100%",width:g,"&::before":{height:"100%",width:a},"&::after":{height:l,width:a}},[`${n}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:t},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:t},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${n}`]:{height:0,[`${n}-preview`]:{height:a,width:"100%",...z,[`&${n}-preview-active`]:{display:"block",transform:`translateY(var(--${s}))`}},[`${n}-dragger`]:{cursor:"row-resize",width:"100%",height:g,"&::before":{width:"100%",height:a},"&::after":{width:l,height:a}},[`${n}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:t,transform:"translateX(-50%)"},"&-end":{top:t,bottom:"auto",transform:"translateX(-50%)"}}}},[M]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${r}:only-child)`]:{overflow:"hidden"}}}}},Qe=e=>{const r=e.splitBarSize||2,i=e.splitTriggerSize||6,l=e.resizeSpinnerSize||20,a=e.splitBarDraggableSize??l;return{splitBarSize:r,splitTriggerSize:i,splitBarDraggableSize:a,resizeSpinnerSize:l}},Ze=_e("Splitter",Ke,Qe),et=e=>{const{prefixCls:r,className:i,classNames:l,style:a,styles:g,layout:d,orientation:m,vertical:f,children:h,draggerIcon:x,collapsibleIcon:n,rootClassName:b,onResizeStart:M,onResize:t,onResizeEnd:s,lazy:z}=e,{getPrefixCls:P,direction:A,className:E,style:c,classNames:N,styles:C}=Xe("splitter"),o=P("splitter",r),u=Ue(o),[v,O]=Ze(o,u),[_,R]=Ye(m,f,d),L=A==="rtl",w=!R&&L,$=je(h),[F,J]=H.useState(),K=y=>{const{offsetWidth:S,offsetHeight:X}=y,B=R?X:S;B!==0&&J(B)},[q,U,j,ne,ae,ce]=qe($,F),I=Fe($,U,w),[k,D,W,Q,T]=Ge($,I,j,F,ce,w),V=te(y=>{k(y),M?.(U)}),Z=te((y,S,X)=>{const B=D(y,S);X?s?.(B):t?.(B)}),G=te(y=>{W(),y||s?.(U)}),le=te((y,S)=>{const X=Q(y,S);t?.(X),s?.(X);const B=X.map(re=>Math.abs(re)<Number.EPSILON);e.onCollapse?.(B,X)}),ze={...e,vertical:R,orientation:_},[ue,pe]=Ae([N,l],[C,g],{props:ze},{dragger:{_default:"default"}}),Se=Y(o,i,`${o}-${_}`,{[`${o}-rtl`]:L},b,ue.root,E,O,u,v),he=`${o}-mask`,se=p.useMemo(()=>{const y=[];let S=0;const X=$.length;for(let B=0;B<X;B+=1)S+=j[B],y.push(S);return y},[j,$.length]),Ce={...pe.root,...c,...a};return p.createElement(Le,{onResize:K},p.createElement("div",{style:Ce,className:Se},$.map((y,S)=>{const X={...y,className:Y(ue.panel,y.className),style:{...pe.panel,...y.style}},B=p.createElement(De,{...X,prefixCls:o,size:q[S]});let re=null;const ee=I[S];if(ee){const ve=(se[S-1]||0)+ne[S],Ie=(se[S+1]||100)-ae[S+1],we=(se[S-1]||0)+ae[S],$e=(se[S+1]||100)-ne[S+1];re=p.createElement(Je,{lazy:z,index:S,active:T===S,prefixCls:o,vertical:R,resizable:ee.resizable,draggerStyle:pe.dragger,draggerClassName:ue.dragger,draggerIcon:x,collapsibleIcon:n,ariaNow:se[S]*100,ariaMin:Math.max(ve,Ie)*100,ariaMax:Math.min(we,$e)*100,startCollapsible:ee.startCollapsible,endCollapsible:ee.endCollapsible,showStartCollapsibleIcon:ee.showStartCollapsibleIcon,showEndCollapsibleIcon:ee.showEndCollapsibleIcon,onOffsetStart:V,onOffsetUpdate:(xe,Me,ye,Ee)=>{let de=R?ye:Me;w&&(de=-de),Z(xe,de,Ee)},onOffsetEnd:G,onCollapse:le,containerSize:F||0})}return p.createElement(p.Fragment,{key:`split-panel-${S}`},B,re)}),typeof T=="number"&&p.createElement("div",{"aria-hidden":!0,className:Y(he,`${he}-${_}`)})))},tt=et;tt.Panel=Ve;export{tt as S};
