import{r as f,_ as W,e as w,f as vn,g as ue,b as re,h as Y,i as We,w as ke,k as hn,l as pn,m as Me,n as Ye,o as At,p as zt,q as Fe,s as Wn,t as Re,v as Xn,x as _,y as gn,z as qn,E as Gn,F as Yn,G as F,K as Ve,I as ze,H as Jn,J as Qn,M as Zn,N as er,O as Et,P as tr,Q as nr,S as rr,T as Ht,C as mn,U as ar,V as or,L as ir,j as p,c as Je,u as lr}from"./index-BFMmcQtt.js";import{u as ot,P as at,M as sr}from"./Playground-piR_5RSu.js";import{a as yn,F as xn}from"./FilesUploadDrawer-BAd4EwvD.js";import{g as cr}from"./index-Ce5v0xB5.js";import{J as bn}from"./JsonView-CQSfa7gb.js";import"./index-BJzs7o3g.js";import"./UpOutlined-BB8b5Q6d.js";import"./EyeOutlined-Dod80o9I.js";var En=f.forwardRef(function(t,e){var r=t.height,n=t.offsetY,i=t.offsetX,l=t.children,c=t.prefixCls,a=t.onInnerResize,s=t.innerProps,o=t.rtl,v=t.extra,d={},g={display:"flex",flexDirection:"column"};return n!==void 0&&(d={height:r,position:"relative",overflow:"hidden"},g=W(W({},g),{},w(w(w(w(w({transform:"translateY(".concat(n,"px)")},o?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),f.createElement("div",{style:d},f.createElement(vn,{onResize:function(u){var x=u.offsetHeight;x&&a&&a()}},f.createElement("div",ue({style:g,className:re(w({},"".concat(c,"-holder-inner"),c)),ref:e},s),l,v)))});En.displayName="Filler";function dr(t){var e=t.children,r=t.setRef,n=f.useCallback(function(i){r(i)},[]);return f.cloneElement(e,{ref:n})}function ur(t,e,r,n,i,l,c,a){var s=a.getKey;return t.slice(e,r+1).map(function(o,v){var d=e+v,g=c(o,d,{style:{width:n},offsetX:i}),m=s(o);return f.createElement(dr,{key:m,setRef:function(x){return l(o,x)}},g)})}function fr(t,e,r){var n=t.length,i=e.length,l,c;if(n===0&&i===0)return null;n<i?(l=t,c=e):(l=e,c=t);var a={__EMPTY_ITEM__:!0};function s(u){return u!==void 0?r(u):a}for(var o=null,v=Math.abs(n-i)!==1,d=0;d<c.length;d+=1){var g=s(l[d]),m=s(c[d]);if(g!==m){o=d,v=v||g!==s(c[d+1]);break}}return o===null?null:{index:o,multiple:v}}function vr(t,e,r){var n=f.useState(t),i=Y(n,2),l=i[0],c=i[1],a=f.useState(null),s=Y(a,2),o=s[0],v=s[1];return f.useEffect(function(){var d=fr(l||[],t||[],e);d?.index!==void 0&&v(t[d.index]),c(t)},[t]),[o]}var Bt=(typeof navigator>"u"?"undefined":We(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Sn=(function(t,e,r,n){var i=f.useRef(!1),l=f.useRef(null);function c(){clearTimeout(l.current),i.current=!0,l.current=setTimeout(function(){i.current=!1},50)}var a=f.useRef({top:t,bottom:e,left:r,right:n});return a.current.top=t,a.current.bottom=e,a.current.left=r,a.current.right=n,function(s,o){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=s?o<0&&a.current.left||o>0&&a.current.right:o<0&&a.current.top||o>0&&a.current.bottom;return v&&d?(clearTimeout(l.current),i.current=!1):(!d||i.current)&&c(),!i.current&&d}});function hr(t,e,r,n,i,l,c){var a=f.useRef(0),s=f.useRef(null),o=f.useRef(null),v=f.useRef(!1),d=Sn(e,r,n,i);function g(E,S){if(ke.cancel(s.current),!d(!1,S)){var D=E;if(!D._virtualHandled)D._virtualHandled=!0;else return;a.current+=S,o.current=S,Bt||D.preventDefault(),s.current=ke(function(){var N=v.current?10:1;c(a.current*N,!1),a.current=0})}}function m(E,S){c(S,!0),Bt||E.preventDefault()}var u=f.useRef(null),x=f.useRef(null);function h(E){if(t){ke.cancel(x.current),x.current=ke(function(){u.current=null},2);var S=E.deltaX,D=E.deltaY,N=E.shiftKey,C=S,K=D;(u.current==="sx"||!u.current&&N&&D&&!S)&&(C=D,K=0,u.current="sx");var T=Math.abs(C),y=Math.abs(K);u.current===null&&(u.current=l&&T>y?"x":"y"),u.current==="y"?g(E,K):m(E,C)}}function b(E){t&&(v.current=E.detail===o.current)}return[h,b]}function pr(t,e,r,n){var i=f.useMemo(function(){return[new Map,[]]},[t,r.id,n]),l=Y(i,2),c=l[0],a=l[1],s=function(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,g=c.get(v),m=c.get(d);if(g===void 0||m===void 0)for(var u=t.length,x=a.length;x<u;x+=1){var h,b=t[x],E=e(b);c.set(E,x);var S=(h=r.get(E))!==null&&h!==void 0?h:n;if(a[x]=(a[x-1]||0)+S,E===v&&(g=x),E===d&&(m=x),g!==void 0&&m!==void 0)break}return{top:a[g-1]||0,bottom:a[m]}};return s}var gr=(function(){function t(){pn(this,t),w(this,"maps",void 0),w(this,"id",0),w(this,"diffRecords",new Map),this.maps=Object.create(null)}return hn(t,[{key:"set",value:function(r,n){this.diffRecords.set(r,this.maps[r]),this.maps[r]=n,this.id+=1}},{key:"get",value:function(r){return this.maps[r]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),t})();function Vt(t){var e=parseFloat(t);return isNaN(e)?0:e}function mr(t,e,r){var n=f.useState(0),i=Y(n,2),l=i[0],c=i[1],a=f.useRef(new Map),s=f.useRef(new gr),o=f.useRef(0);function v(){o.current+=1}function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;v();var u=function(){var b=!1;a.current.forEach(function(E,S){if(E&&E.offsetParent){var D=E.offsetHeight,N=getComputedStyle(E),C=N.marginTop,K=N.marginBottom,T=Vt(C),y=Vt(K),O=D+T+y;s.current.get(S)!==O&&(s.current.set(S,O),b=!0)}}),b&&c(function(E){return E+1})};if(m)u();else{o.current+=1;var x=o.current;Promise.resolve().then(function(){x===o.current&&u()})}}function g(m,u){var x=t(m);a.current.get(x),u?(a.current.set(x,u),d()):a.current.delete(x)}return f.useEffect(function(){return v},[]),[g,d,s.current,l]}var Ut=14/15;function yr(t,e,r){var n=f.useRef(!1),i=f.useRef(0),l=f.useRef(0),c=f.useRef(null),a=f.useRef(null),s,o=function(m){if(n.current){var u=Math.ceil(m.touches[0].pageX),x=Math.ceil(m.touches[0].pageY),h=i.current-u,b=l.current-x,E=Math.abs(h)>Math.abs(b);E?i.current=u:l.current=x;var S=r(E,E?h:b,!1,m);S&&m.preventDefault(),clearInterval(a.current),S&&(a.current=setInterval(function(){E?h*=Ut:b*=Ut;var D=Math.floor(E?h:b);(!r(E,D,!0)||Math.abs(D)<=.1)&&clearInterval(a.current)},16))}},v=function(){n.current=!1,s()},d=function(m){s(),m.touches.length===1&&!n.current&&(n.current=!0,i.current=Math.ceil(m.touches[0].pageX),l.current=Math.ceil(m.touches[0].pageY),c.current=m.target,c.current.addEventListener("touchmove",o,{passive:!1}),c.current.addEventListener("touchend",v,{passive:!0}))};s=function(){c.current&&(c.current.removeEventListener("touchmove",o),c.current.removeEventListener("touchend",v))},Me(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var g;(g=e.current)===null||g===void 0||g.removeEventListener("touchstart",d),s(),clearInterval(a.current)}},[t])}function Wt(t){return Math.floor(Math.pow(t,.5))}function St(t,e){var r="touches"in t?t.touches[0]:t;return r[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function xr(t,e,r){f.useEffect(function(){var n=e.current;if(t&&n){var i=!1,l,c,a=function(){ke.cancel(l)},s=function g(){a(),l=ke(function(){r(c),g()})},o=function(){i=!1,a()},v=function(m){if(!(m.target.draggable||m.button!==0)){var u=m;u._virtualHandled||(u._virtualHandled=!0,i=!0)}},d=function(m){if(i){var u=St(m,!1),x=n.getBoundingClientRect(),h=x.top,b=x.bottom;if(u<=h){var E=h-u;c=-Wt(E),s()}else if(u>=b){var S=u-b;c=Wt(S),s()}else a()}};return n.addEventListener("mousedown",v),n.ownerDocument.addEventListener("mouseup",o),n.ownerDocument.addEventListener("mousemove",d),n.ownerDocument.addEventListener("dragend",o),function(){n.removeEventListener("mousedown",v),n.ownerDocument.removeEventListener("mouseup",o),n.ownerDocument.removeEventListener("mousemove",d),n.ownerDocument.removeEventListener("dragend",o),a()}}},[t])}var br=10;function Er(t,e,r,n,i,l,c,a){var s=f.useRef(),o=f.useState(null),v=Y(o,2),d=v[0],g=v[1];return Me(function(){if(d&&d.times<br){if(!t.current){g(function(ce){return W({},ce)});return}l();var m=d.targetAlign,u=d.originAlign,x=d.index,h=d.offset,b=t.current.clientHeight,E=!1,S=m,D=null;if(b){for(var N=m||u,C=0,K=0,T=0,y=Math.min(e.length-1,x),O=0;O<=y;O+=1){var j=i(e[O]);K=C;var $=r.get(j);T=K+($===void 0?n:$),C=T}for(var A=N==="top"?h:b-h,I=y;I>=0;I-=1){var L=i(e[I]),M=r.get(L);if(M===void 0){E=!0;break}if(A-=M,A<=0)break}switch(N){case"top":D=K-h;break;case"bottom":D=T-b+h;break;default:{var B=t.current.scrollTop,J=B+b;K<B?S="top":T>J&&(S="bottom")}}D!==null&&c(D),D!==d.lastTop&&(E=!0)}E&&g(W(W({},d),{},{times:d.times+1,targetAlign:S,lastTop:D}))}},[d,t.current]),function(m){if(m==null){a();return}if(ke.cancel(s.current),typeof m=="number")c(m);else if(m&&We(m)==="object"){var u,x=m.align;"index"in m?u=m.index:u=e.findIndex(function(E){return i(E)===m.key});var h=m.offset,b=h===void 0?0:h;g({times:0,index:u,offset:b,originAlign:x})}}}var Xt=f.forwardRef(function(t,e){var r=t.prefixCls,n=t.rtl,i=t.scrollOffset,l=t.scrollRange,c=t.onStartMove,a=t.onStopMove,s=t.onScroll,o=t.horizontal,v=t.spinSize,d=t.containerSize,g=t.style,m=t.thumbStyle,u=t.showScrollBar,x=f.useState(!1),h=Y(x,2),b=h[0],E=h[1],S=f.useState(null),D=Y(S,2),N=D[0],C=D[1],K=f.useState(null),T=Y(K,2),y=T[0],O=T[1],j=!n,$=f.useRef(),A=f.useRef(),I=f.useState(u),L=Y(I,2),M=L[0],B=L[1],J=f.useRef(),ce=function(){u===!0||u===!1||(clearTimeout(J.current),B(!0),J.current=setTimeout(function(){B(!1)},3e3))},X=l-d||0,ne=d-v||0,ve=f.useMemo(function(){if(i===0||X===0)return 0;var Q=i/X;return Q*ne},[i,X,ne]),V=function(q){q.stopPropagation(),q.preventDefault()},ae=f.useRef({top:ve,dragging:b,pageY:N,startTop:y});ae.current={top:ve,dragging:b,pageY:N,startTop:y};var xe=function(q){E(!0),C(St(q,o)),O(ae.current.top),c(),q.stopPropagation(),q.preventDefault()};f.useEffect(function(){var Q=function(pe){pe.preventDefault()},q=$.current,Z=A.current;return q.addEventListener("touchstart",Q,{passive:!1}),Z.addEventListener("touchstart",xe,{passive:!1}),function(){q.removeEventListener("touchstart",Q),Z.removeEventListener("touchstart",xe)}},[]);var oe=f.useRef();oe.current=X;var Ce=f.useRef();Ce.current=ne,f.useEffect(function(){if(b){var Q,q=function(pe){var De=ae.current,Pe=De.dragging,Te=De.pageY,Le=De.startTop;ke.cancel(Q);var be=$.current.getBoundingClientRect(),U=d/(o?be.width:be.height);if(Pe){var ee=(St(pe,o)-Te)*U,de=Le;!j&&o?de-=ee:de+=ee;var Ke=oe.current,we=Ce.current,Oe=we?de/we:0,ge=Math.ceil(Oe*Ke);ge=Math.max(ge,0),ge=Math.min(ge,Ke),Q=ke(function(){s(ge,o)})}},Z=function(){E(!1),a()};return window.addEventListener("mousemove",q,{passive:!0}),window.addEventListener("touchmove",q,{passive:!0}),window.addEventListener("mouseup",Z,{passive:!0}),window.addEventListener("touchend",Z,{passive:!0}),function(){window.removeEventListener("mousemove",q),window.removeEventListener("touchmove",q),window.removeEventListener("mouseup",Z),window.removeEventListener("touchend",Z),ke.cancel(Q)}}},[b]),f.useEffect(function(){return ce(),function(){clearTimeout(J.current)}},[i]),f.useImperativeHandle(e,function(){return{delayHidden:ce}});var ie="".concat(r,"-scrollbar"),le={position:"absolute",visibility:M?null:"hidden"},Se={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return o?(Object.assign(le,{height:8,left:0,right:0,bottom:0}),Object.assign(Se,w({height:"100%",width:v},j?"left":"right",ve))):(Object.assign(le,w({width:8,top:0,bottom:0},j?"right":"left",0)),Object.assign(Se,{width:"100%",height:v,top:ve})),f.createElement("div",{ref:$,className:re(ie,w(w(w({},"".concat(ie,"-horizontal"),o),"".concat(ie,"-vertical"),!o),"".concat(ie,"-visible"),M)),style:W(W({},le),g),onMouseDown:V,onMouseMove:ce},f.createElement("div",{ref:A,className:re("".concat(ie,"-thumb"),w({},"".concat(ie,"-thumb-moving"),b)),style:W(W({},Se),m),onMouseDown:xe}))}),Sr=20;function qt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=t/e*t;return isNaN(r)&&(r=0),r=Math.max(r,Sr),Math.floor(r)}var Dr=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],wr=[],Nr={overflowY:"auto",overflowAnchor:"none"};function Kr(t,e){var r=t.prefixCls,n=r===void 0?"rc-virtual-list":r,i=t.className,l=t.height,c=t.itemHeight,a=t.fullHeight,s=a===void 0?!0:a,o=t.style,v=t.data,d=t.children,g=t.itemKey,m=t.virtual,u=t.direction,x=t.scrollWidth,h=t.component,b=h===void 0?"div":h,E=t.onScroll,S=t.onVirtualScroll,D=t.onVisibleChange,N=t.innerProps,C=t.extraRender,K=t.styles,T=t.showScrollBar,y=T===void 0?"optional":T,O=Ye(t,Dr),j=f.useCallback(function(P){return typeof g=="function"?g(P):P?.[g]},[g]),$=mr(j),A=Y($,4),I=A[0],L=A[1],M=A[2],B=A[3],J=!!(m!==!1&&l&&c),ce=f.useMemo(function(){return Object.values(M.maps).reduce(function(P,k){return P+k},0)},[M.id,M.maps]),X=J&&v&&(Math.max(c*v.length,ce)>l||!!x),ne=u==="rtl",ve=re(n,w({},"".concat(n,"-rtl"),ne),i),V=v||wr,ae=f.useRef(),xe=f.useRef(),oe=f.useRef(),Ce=f.useState(0),ie=Y(Ce,2),le=ie[0],Se=ie[1],Q=f.useState(0),q=Y(Q,2),Z=q[0],he=q[1],pe=f.useState(!1),De=Y(pe,2),Pe=De[0],Te=De[1],Le=function(){Te(!0)},be=function(){Te(!1)},U={getKey:j};function ee(P){Se(function(k){var z;typeof P=="function"?z=P(k):z=P;var G=$n(z);return ae.current.scrollTop=G,G})}var de=f.useRef({start:0,end:V.length}),Ke=f.useRef(),we=vr(V,j),Oe=Y(we,1),ge=Oe[0];Ke.current=ge;var Ee=f.useMemo(function(){if(!J)return{scrollHeight:void 0,start:0,end:V.length-1,offset:void 0};if(!X){var P;return{scrollHeight:((P=xe.current)===null||P===void 0?void 0:P.offsetHeight)||0,start:0,end:V.length-1,offset:void 0}}for(var k=0,z,G,se,nt=V.length,_e=0;_e<nt;_e+=1){var ht=V[_e],Un=j(ht),_t=M.get(Un),pt=k+(_t===void 0?c:_t);pt>=le&&z===void 0&&(z=_e,G=k),pt>le+l&&se===void 0&&(se=_e),k=pt}return z===void 0&&(z=0,G=0,se=Math.ceil(l/c)),se===void 0&&(se=V.length-1),se=Math.min(se+1,V.length-1),{scrollHeight:k,start:z,end:se,offset:G}},[X,J,le,V,B,l]),fe=Ee.scrollHeight,je=Ee.start,H=Ee.end,R=Ee.offset;de.current.start=je,de.current.end=H,f.useLayoutEffect(function(){var P=M.getRecord();if(P.size===1){var k=Array.from(P.keys())[0],z=P.get(k),G=V[je];if(G&&z===void 0){var se=j(G);if(se===k){var nt=M.get(k),_e=nt-c;ee(function(ht){return ht+_e})}}}M.resetRecord()},[fe]);var Ne=f.useState({width:0,height:l}),He=Y(Ne,2),me=He[0],Be=He[1],In=function(k){Be({width:k.offsetWidth,height:k.offsetHeight})},kt=f.useRef(),Rt=f.useRef(),Mn=f.useMemo(function(){return qt(me.width,x)},[me.width,x]),Ln=f.useMemo(function(){return qt(me.height,fe)},[me.height,fe]),st=fe-l,ct=f.useRef(st);ct.current=st;function $n(P){var k=P;return Number.isNaN(ct.current)||(k=Math.min(k,ct.current)),k=Math.max(k,0),k}var Ze=le<=0,et=le>=st,Pt=Z<=0,Ot=Z>=x,Fn=Sn(Ze,et,Pt,Ot),dt=function(){return{x:ne?-Z:Z,y:le}},ut=f.useRef(dt()),tt=At(function(P){if(S){var k=W(W({},dt()),P);(ut.current.x!==k.x||ut.current.y!==k.y)&&(S(k),ut.current=k)}});function jt(P,k){var z=P;k?(zt.flushSync(function(){he(z)}),tt()):ee(z)}function _n(P){var k=P.currentTarget.scrollTop;k!==le&&ee(k),E?.(P),tt()}var ft=function(k){var z=k,G=x?x-me.width:0;return z=Math.max(z,0),z=Math.min(z,G),z},An=At(function(P,k){k?(zt.flushSync(function(){he(function(z){var G=z+(ne?-P:P);return ft(G)})}),tt()):ee(function(z){var G=z+P;return G})}),zn=hr(J,Ze,et,Pt,Ot,!!x,An),It=Y(zn,2),vt=It[0],Mt=It[1];yr(J,ae,function(P,k,z,G){var se=G;return Fn(P,k,z)?!1:!se||!se._virtualHandled?(se&&(se._virtualHandled=!0),vt({preventDefault:function(){},deltaX:P?k:0,deltaY:P?0:k}),!0):!1}),xr(X,ae,function(P){ee(function(k){return k+P})}),Me(function(){function P(z){var G=Ze&&z.detail<0,se=et&&z.detail>0;J&&!G&&!se&&z.preventDefault()}var k=ae.current;return k.addEventListener("wheel",vt,{passive:!1}),k.addEventListener("DOMMouseScroll",Mt,{passive:!0}),k.addEventListener("MozMousePixelScroll",P,{passive:!1}),function(){k.removeEventListener("wheel",vt),k.removeEventListener("DOMMouseScroll",Mt),k.removeEventListener("MozMousePixelScroll",P)}},[J,Ze,et]),Me(function(){if(x){var P=ft(Z);he(P),tt({x:P})}},[me.width,x]);var Lt=function(){var k,z;(k=kt.current)===null||k===void 0||k.delayHidden(),(z=Rt.current)===null||z===void 0||z.delayHidden()},$t=Er(ae,V,M,c,j,function(){return L(!0)},ee,Lt);f.useImperativeHandle(e,function(){return{nativeElement:oe.current,getScrollInfo:dt,scrollTo:function(k){function z(G){return G&&We(G)==="object"&&("left"in G||"top"in G)}z(k)?(k.left!==void 0&&he(ft(k.left)),$t(k.top)):$t(k)}}}),Me(function(){if(D){var P=V.slice(je,H+1);D(P,V)}},[je,H,V]);var Hn=pr(V,j,M,c),Bn=C?.({start:je,end:H,virtual:X,offsetX:Z,offsetY:R,rtl:ne,getSize:Hn}),Vn=ur(V,je,H,x,Z,I,d,U),Xe=null;l&&(Xe=W(w({},s?"height":"maxHeight",l),Nr),J&&(Xe.overflowY="hidden",x&&(Xe.overflowX="hidden"),Pe&&(Xe.pointerEvents="none")));var Ft={};return ne&&(Ft.dir="rtl"),f.createElement("div",ue({ref:oe,style:W(W({},o),{},{position:"relative"}),className:ve},Ft,O),f.createElement(vn,{onResize:In},f.createElement(b,{className:"".concat(n,"-holder"),style:Xe,ref:ae,onScroll:_n,onMouseEnter:Lt},f.createElement(En,{prefixCls:n,height:fe,offsetX:Z,offsetY:R,scrollWidth:x,onInnerResize:L,ref:xe,innerProps:N,rtl:ne,extra:Bn},Vn))),X&&fe>l&&f.createElement(Xt,{ref:kt,prefixCls:n,scrollOffset:le,scrollRange:fe,rtl:ne,onScroll:jt,onStartMove:Le,onStopMove:be,spinSize:Ln,containerSize:me.height,style:K?.verticalScrollBar,thumbStyle:K?.verticalScrollBarThumb,showScrollBar:y}),X&&x>me.width&&f.createElement(Xt,{ref:Rt,prefixCls:n,scrollOffset:Z,scrollRange:x,rtl:ne,onScroll:jt,onStartMove:Le,onStopMove:be,spinSize:Mn,containerSize:me.width,horizontal:!0,style:K?.horizontalScrollBar,thumbStyle:K?.horizontalScrollBarThumb,showScrollBar:y}))}var Dn=f.forwardRef(Kr);Dn.displayName="List";function ye(t,e){return t[e]}var Cr=["children"];function wn(t,e){return"".concat(t,"-").concat(e)}function Tr(t){return t&&t.type&&t.type.isTreeNode}function Qe(t,e){return t??e}function Ue(t){var e=t||{},r=e.title,n=e._title,i=e.key,l=e.children,c=r||"title";return{title:c,_title:n||[c],key:i||"key",children:l||"children"}}function Nn(t){function e(r){var n=Xn(r);return n.map(function(i){if(!Tr(i))return Fe(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var l=i.key,c=i.props,a=c.children,s=Ye(c,Cr),o=W({key:l},s),v=e(a);return v.length&&(o.children=v),o}).filter(function(i){return i})}return e(t)}function gt(t,e,r){var n=Ue(r),i=n._title,l=n.key,c=n.children,a=new Set(e===!0?[]:e),s=[];function o(v){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v.map(function(g,m){for(var u=wn(d?d.pos:"0",m),x=Qe(g[l],u),h,b=0;b<i.length;b+=1){var E=i[b];if(g[E]!==void 0){h=g[E];break}}var S=Object.assign(Wn(g,[].concat(Re(i),[l,c])),{title:h,key:x,parent:d,pos:u,children:null,data:g,isStart:[].concat(Re(d?d.isStart:[]),[m===0]),isEnd:[].concat(Re(d?d.isEnd:[]),[m===v.length-1])});return s.push(S),e===!0||a.has(x)?S.children=o(g[c]||[],S):S.children=[],S})}return o(t),s}function kr(t,e,r){var n={};We(r)==="object"?n=r:n={externalGetKey:r},n=n||{};var i=n,l=i.childrenPropName,c=i.externalGetKey,a=i.fieldNames,s=Ue(a),o=s.key,v=s.children,d=l||v,g;c?typeof c=="string"?g=function(x){return x[c]}:typeof c=="function"&&(g=function(x){return c(x)}):g=function(x,h){return Qe(x[o],h)};function m(u,x,h,b){var E=u?u[d]:t,S=u?wn(h.pos,x):"0",D=u?[].concat(Re(b),[u]):[];if(u){var N=g(u,S),C={node:u,index:x,pos:S,key:N,parentPos:h.node?h.pos:null,level:h.level+1,nodes:D};e(C)}E&&E.forEach(function(K,T){m(K,T,{node:u,pos:S,level:h?h.level+1:-1},D)})}m(null)}function Kn(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.initWrapper,n=e.processEntity,i=e.onProcessFinished,l=e.externalGetKey,c=e.childrenPropName,a=e.fieldNames,s=arguments.length>2?arguments[2]:void 0,o=l||s,v={},d={},g={posEntities:v,keyEntities:d};return r&&(g=r(g)||g),kr(t,function(m){var u=m.node,x=m.index,h=m.pos,b=m.key,E=m.parentPos,S=m.level,D=m.nodes,N={node:u,nodes:D,index:x,key:b,pos:h,level:S},C=Qe(b,h);v[h]=N,d[C]=N,N.parent=v[E],N.parent&&(N.parent.children=N.parent.children||[],N.parent.children.push(N)),n&&n(N,g)},{externalGetKey:o,childrenPropName:c,fieldNames:a}),i&&i(g),g}function qe(t,e){var r=e.expandedKeys,n=e.selectedKeys,i=e.loadedKeys,l=e.loadingKeys,c=e.checkedKeys,a=e.halfCheckedKeys,s=e.dragOverNodeKey,o=e.dropPosition,v=e.keyEntities,d=ye(v,t),g={eventKey:t,expanded:r.indexOf(t)!==-1,selected:n.indexOf(t)!==-1,loaded:i.indexOf(t)!==-1,loading:l.indexOf(t)!==-1,checked:c.indexOf(t)!==-1,halfChecked:a.indexOf(t)!==-1,pos:String(d?d.pos:""),dragOver:s===t&&o===0,dragOverGapTop:s===t&&o===-1,dragOverGapBottom:s===t&&o===1};return g}function te(t){var e=t.data,r=t.expanded,n=t.selected,i=t.checked,l=t.loaded,c=t.loading,a=t.halfChecked,s=t.dragOver,o=t.dragOverGapTop,v=t.dragOverGapBottom,d=t.pos,g=t.active,m=t.eventKey,u=W(W({},e),{},{expanded:r,selected:n,checked:i,loaded:l,loading:c,halfChecked:a,dragOver:s,dragOverGapTop:o,dragOverGapBottom:v,pos:d,active:g,key:m});return"props"in u||Object.defineProperty(u,"props",{get:function(){return Fe(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),u}function Cn(t,e){var r=new Set;return t.forEach(function(n){e.has(n)||r.add(n)}),r}function Rr(t){var e=t||{},r=e.disabled,n=e.disableCheckbox,i=e.checkable;return!!(r||n)||i===!1}function Pr(t,e,r,n){for(var i=new Set(t),l=new Set,c=0;c<=r;c+=1){var a=e.get(c)||new Set;a.forEach(function(d){var g=d.key,m=d.node,u=d.children,x=u===void 0?[]:u;i.has(g)&&!n(m)&&x.filter(function(h){return!n(h.node)}).forEach(function(h){i.add(h.key)})})}for(var s=new Set,o=r;o>=0;o-=1){var v=e.get(o)||new Set;v.forEach(function(d){var g=d.parent,m=d.node;if(!(n(m)||!d.parent||s.has(d.parent.key))){if(n(d.parent.node)){s.add(g.key);return}var u=!0,x=!1;(g.children||[]).filter(function(h){return!n(h.node)}).forEach(function(h){var b=h.key,E=i.has(b);u&&!E&&(u=!1),!x&&(E||l.has(b))&&(x=!0)}),u&&i.add(g.key),x&&l.add(g.key),s.add(g.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(Cn(l,i))}}function Or(t,e,r,n,i){for(var l=new Set(t),c=new Set(e),a=0;a<=n;a+=1){var s=r.get(a)||new Set;s.forEach(function(g){var m=g.key,u=g.node,x=g.children,h=x===void 0?[]:x;!l.has(m)&&!c.has(m)&&!i(u)&&h.filter(function(b){return!i(b.node)}).forEach(function(b){l.delete(b.key)})})}c=new Set;for(var o=new Set,v=n;v>=0;v-=1){var d=r.get(v)||new Set;d.forEach(function(g){var m=g.parent,u=g.node;if(!(i(u)||!g.parent||o.has(g.parent.key))){if(i(g.parent.node)){o.add(m.key);return}var x=!0,h=!1;(m.children||[]).filter(function(b){return!i(b.node)}).forEach(function(b){var E=b.key,S=l.has(E);x&&!S&&(x=!1),!h&&(S||c.has(E))&&(h=!0)}),x||l.delete(m.key),h&&c.add(m.key),o.add(m.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(Cn(c,l))}}function mt(t,e,r,n){var i=[],l;l=Rr;var c=new Set(t.filter(function(v){var d=!!ye(r,v);return d||i.push(v),d})),a=new Map,s=0;Object.keys(r).forEach(function(v){var d=r[v],g=d.level,m=a.get(g);m||(m=new Set,a.set(g,m)),m.add(d),s=Math.max(s,g)}),Fe(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(v){return"'".concat(v,"'")}).join(", ")));var o;return e===!0?o=Pr(c,a,s,l):o=Or(c,e.halfCheckedKeys,a,s,l),o}var Nt=f.createContext(null),jr=f.createContext({}),Ir=function(e){for(var r=e.prefixCls,n=e.level,i=e.isStart,l=e.isEnd,c="".concat(r,"-indent-unit"),a=[],s=0;s<n;s+=1)a.push(f.createElement("span",{key:s,className:re(c,w(w({},"".concat(c,"-start"),i[s]),"".concat(c,"-end"),l[s]))}));return f.createElement("span",{"aria-hidden":"true",className:"".concat(r,"-indent")},a)};const Mr=f.memo(Ir);var Lr=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Gt="open",Yt="close",$r="---",Ge=function(e){var r,n,i,l=e.eventKey,c=e.className,a=e.style,s=e.dragOver,o=e.dragOverGapTop,v=e.dragOverGapBottom,d=e.isLeaf,g=e.isStart,m=e.isEnd,u=e.expanded,x=e.selected,h=e.checked,b=e.halfChecked,E=e.loading,S=e.domRef,D=e.active,N=e.data,C=e.onMouseMove,K=e.selectable,T=Ye(e,Lr),y=_.useContext(Nt),O=_.useContext(jr),j=_.useRef(null),$=_.useState(!1),A=Y($,2),I=A[0],L=A[1],M=!!(y.disabled||e.disabled||(r=O.nodeDisabled)!==null&&r!==void 0&&r.call(O,N)),B=_.useMemo(function(){return!y.checkable||e.checkable===!1?!1:y.checkable},[y.checkable,e.checkable]),J=function(R){M||y.onNodeSelect(R,te(e))},ce=function(R){M||!B||e.disableCheckbox||y.onNodeCheck(R,te(e),!h)},X=_.useMemo(function(){return typeof K=="boolean"?K:y.selectable},[K,y.selectable]),ne=function(R){y.onNodeClick(R,te(e)),X?J(R):ce(R)},ve=function(R){y.onNodeDoubleClick(R,te(e))},V=function(R){y.onNodeMouseEnter(R,te(e))},ae=function(R){y.onNodeMouseLeave(R,te(e))},xe=function(R){y.onNodeContextMenu(R,te(e))},oe=_.useMemo(function(){return!!(y.draggable&&(!y.draggable.nodeDraggable||y.draggable.nodeDraggable(N)))},[y.draggable,N]),Ce=function(R){R.stopPropagation(),L(!0),y.onNodeDragStart(R,e);try{R.dataTransfer.setData("text/plain","")}catch{}},ie=function(R){R.preventDefault(),R.stopPropagation(),y.onNodeDragEnter(R,e)},le=function(R){R.preventDefault(),R.stopPropagation(),y.onNodeDragOver(R,e)},Se=function(R){R.stopPropagation(),y.onNodeDragLeave(R,e)},Q=function(R){R.stopPropagation(),L(!1),y.onNodeDragEnd(R,e)},q=function(R){R.preventDefault(),R.stopPropagation(),L(!1),y.onNodeDrop(R,e)},Z=function(R){E||y.onNodeExpand(R,te(e))},he=_.useMemo(function(){var H=ye(y.keyEntities,l)||{},R=H.children;return!!(R||[]).length},[y.keyEntities,l]),pe=_.useMemo(function(){return d===!1?!1:d||!y.loadData&&!he||y.loadData&&e.loaded&&!he},[d,y.loadData,he,e.loaded]);_.useEffect(function(){E||typeof y.loadData=="function"&&u&&!pe&&!e.loaded&&y.onNodeLoad(te(e))},[E,y.loadData,y.onNodeLoad,u,pe,e]);var De=_.useMemo(function(){var H;return(H=y.draggable)!==null&&H!==void 0&&H.icon?_.createElement("span",{className:"".concat(y.prefixCls,"-draggable-icon")},y.draggable.icon):null},[y.draggable]),Pe=function(R){var Ne=e.switcherIcon||y.switcherIcon;return typeof Ne=="function"?Ne(W(W({},e),{},{isLeaf:R})):Ne},Te=function(){if(pe){var R=Pe(!0);return R!==!1?_.createElement("span",{className:re("".concat(y.prefixCls,"-switcher"),"".concat(y.prefixCls,"-switcher-noop"))},R):null}var Ne=Pe(!1);return Ne!==!1?_.createElement("span",{onClick:Z,className:re("".concat(y.prefixCls,"-switcher"),"".concat(y.prefixCls,"-switcher_").concat(u?Gt:Yt))},Ne):null},Le=_.useMemo(function(){if(!B)return null;var H=typeof B!="boolean"?B:null;return _.createElement("span",{className:re("".concat(y.prefixCls,"-checkbox"),w(w(w({},"".concat(y.prefixCls,"-checkbox-checked"),h),"".concat(y.prefixCls,"-checkbox-indeterminate"),!h&&b),"".concat(y.prefixCls,"-checkbox-disabled"),M||e.disableCheckbox)),onClick:ce,role:"checkbox","aria-checked":b?"mixed":h,"aria-disabled":M||e.disableCheckbox,"aria-label":"Select ".concat(typeof e.title=="string"?e.title:"tree node")},H)},[B,h,b,M,e.disableCheckbox,e.title]),be=_.useMemo(function(){return pe?null:u?Gt:Yt},[pe,u]),U=_.useMemo(function(){return _.createElement("span",{className:re("".concat(y.prefixCls,"-iconEle"),"".concat(y.prefixCls,"-icon__").concat(be||"docu"),w({},"".concat(y.prefixCls,"-icon_loading"),E))})},[y.prefixCls,be,E]),ee=_.useMemo(function(){var H=!!y.draggable,R=!e.disabled&&H&&y.dragOverNodeKey===l;return R?y.dropIndicatorRender({dropPosition:y.dropPosition,dropLevelOffset:y.dropLevelOffset,indent:y.indent,prefixCls:y.prefixCls,direction:y.direction}):null},[y.dropPosition,y.dropLevelOffset,y.indent,y.prefixCls,y.direction,y.draggable,y.dragOverNodeKey,y.dropIndicatorRender]),de=_.useMemo(function(){var H=e.title,R=H===void 0?$r:H,Ne="".concat(y.prefixCls,"-node-content-wrapper"),He;if(y.showIcon){var me=e.icon||y.icon;He=me?_.createElement("span",{className:re("".concat(y.prefixCls,"-iconEle"),"".concat(y.prefixCls,"-icon__customize"))},typeof me=="function"?me(e):me):U}else y.loadData&&E&&(He=U);var Be;return typeof R=="function"?Be=R(N):y.titleRender?Be=y.titleRender(N):Be=R,_.createElement("span",{ref:j,title:typeof R=="string"?R:"",className:re(Ne,"".concat(Ne,"-").concat(be||"normal"),w({},"".concat(y.prefixCls,"-node-selected"),!M&&(x||I))),onMouseEnter:V,onMouseLeave:ae,onContextMenu:xe,onClick:ne,onDoubleClick:ve},He,_.createElement("span",{className:"".concat(y.prefixCls,"-title")},Be),ee)},[y.prefixCls,y.showIcon,e,y.icon,U,y.titleRender,N,be,V,ae,xe,ne,ve]),Ke=gn(T,{aria:!0,data:!0}),we=ye(y.keyEntities,l)||{},Oe=we.level,ge=m[m.length-1],Ee=!M&&oe,fe=y.draggingNodeKey===l,je=K!==void 0?{"aria-selected":!!K}:void 0;return _.createElement("div",ue({ref:S,role:"treeitem","aria-expanded":d?void 0:u,className:re(c,"".concat(y.prefixCls,"-treenode"),(i={},w(w(w(w(w(w(w(w(w(w(i,"".concat(y.prefixCls,"-treenode-disabled"),M),"".concat(y.prefixCls,"-treenode-switcher-").concat(u?"open":"close"),!d),"".concat(y.prefixCls,"-treenode-checkbox-checked"),h),"".concat(y.prefixCls,"-treenode-checkbox-indeterminate"),b),"".concat(y.prefixCls,"-treenode-selected"),x),"".concat(y.prefixCls,"-treenode-loading"),E),"".concat(y.prefixCls,"-treenode-active"),D),"".concat(y.prefixCls,"-treenode-leaf-last"),ge),"".concat(y.prefixCls,"-treenode-draggable"),oe),"dragging",fe),w(w(w(w(w(w(w(i,"drop-target",y.dropTargetKey===l),"drop-container",y.dropContainerKey===l),"drag-over",!M&&s),"drag-over-gap-top",!M&&o),"drag-over-gap-bottom",!M&&v),"filter-node",(n=y.filterTreeNode)===null||n===void 0?void 0:n.call(y,te(e))),"".concat(y.prefixCls,"-treenode-leaf"),pe))),style:a,draggable:Ee,onDragStart:Ee?Ce:void 0,onDragEnter:oe?ie:void 0,onDragOver:oe?le:void 0,onDragLeave:oe?Se:void 0,onDrop:oe?q:void 0,onDragEnd:oe?Q:void 0,onMouseMove:C},je,Ke),_.createElement(Mr,{prefixCls:y.prefixCls,level:Oe,isStart:g,isEnd:m}),De,Te(),Le,de)};Ge.isTreeNode=1;function Ie(t,e){if(!t)return[];var r=t.slice(),n=r.indexOf(e);return n>=0&&r.splice(n,1),r}function $e(t,e){var r=(t||[]).slice();return r.indexOf(e)===-1&&r.push(e),r}function Kt(t){return t.split("-")}function Fr(t,e){var r=[],n=ye(e,t);function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(c){var a=c.key,s=c.children;r.push(a),i(s)})}return i(n.children),r}function _r(t){if(t.parent){var e=Kt(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function Ar(t){var e=Kt(t.pos);return Number(e[e.length-1])===0}function Jt(t,e,r,n,i,l,c,a,s,o){var v,d=t.clientX,g=t.clientY,m=t.target.getBoundingClientRect(),u=m.top,x=m.height,h=(o==="rtl"?-1:1)*((i?.x||0)-d),b=(h-12)/n,E=s.filter(function(M){var B;return(B=a[M])===null||B===void 0||(B=B.children)===null||B===void 0?void 0:B.length}),S=ye(a,r.eventKey);if(g<u+x/2){var D=c.findIndex(function(M){return M.key===S.key}),N=D<=0?0:D-1,C=c[N].key;S=ye(a,C)}var K=S.key,T=S,y=S.key,O=0,j=0;if(!E.includes(K))for(var $=0;$<b&&_r(S);$+=1)S=S.parent,j+=1;var A=e.data,I=S.node,L=!0;return Ar(S)&&S.level===0&&g<u+x/2&&l({dragNode:A,dropNode:I,dropPosition:-1})&&S.key===r.eventKey?O=-1:(T.children||[]).length&&E.includes(y)?l({dragNode:A,dropNode:I,dropPosition:0})?O=0:L=!1:j===0?b>-1.5?l({dragNode:A,dropNode:I,dropPosition:1})?O=1:L=!1:l({dragNode:A,dropNode:I,dropPosition:0})?O=0:l({dragNode:A,dropNode:I,dropPosition:1})?O=1:L=!1:l({dragNode:A,dropNode:I,dropPosition:1})?O=1:L=!1,{dropPosition:O,dropLevelOffset:j,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:y,dropContainerKey:O===0?null:((v=S.parent)===null||v===void 0?void 0:v.key)||null,dropAllowed:L}}function Qt(t,e){if(t){var r=e.multiple;return r?t.slice():t.length?[t[0]]:t}}function yt(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(We(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return Fe(!1,"`checkedKeys` is not an array or an object"),null;return e}function Dt(t,e){var r=new Set;function n(i){if(!r.has(i)){var l=ye(e,i);if(l){r.add(i);var c=l.parent,a=l.node;a.disabled||c&&n(c.key)}}}return(t||[]).forEach(function(i){n(i)}),Re(r)}var zr=function(e){var r=e.dropPosition,n=e.dropLevelOffset,i=e.indent,l={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(r){case-1:l.top=0,l.left=-n*i;break;case 1:l.bottom=0,l.left=-n*i;break;case 0:l.bottom=0,l.left=i;break}return _.createElement("div",{style:l})};function Tn(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function Hr(t,e){var r=f.useState(!1),n=Y(r,2),i=n[0],l=n[1];Me(function(){if(i)return t(),function(){e()}},[i]),Me(function(){return l(!0),function(){l(!1)}},[])}var Br=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Vr=f.forwardRef(function(t,e){var r=t.className,n=t.style,i=t.motion,l=t.motionNodes,c=t.motionType,a=t.onMotionStart,s=t.onMotionEnd,o=t.active,v=t.treeNodeRequiredProps,d=Ye(t,Br),g=f.useState(!0),m=Y(g,2),u=m[0],x=m[1],h=f.useContext(Nt),b=h.prefixCls,E=l&&c!=="hide";Me(function(){l&&E!==u&&x(E)},[l]);var S=function(){l&&a()},D=f.useRef(!1),N=function(){l&&!D.current&&(D.current=!0,s())};Hr(S,N);var C=function(T){E===T&&N()};return l?f.createElement(qn,ue({ref:e,visible:u},i,{motionAppear:c==="show",onVisibleChanged:C}),function(K,T){var y=K.className,O=K.style;return f.createElement("div",{ref:T,className:re("".concat(b,"-treenode-motion"),y),style:O},l.map(function(j){var $=Object.assign({},(Tn(j.data),j.data)),A=j.title,I=j.key,L=j.isStart,M=j.isEnd;delete $.children;var B=qe(I,v);return f.createElement(Ge,ue({},$,B,{title:A,active:o,data:j.data,key:I,isStart:L,isEnd:M}))}))}):f.createElement(Ge,ue({domRef:e,className:r,style:n},d,{active:o}))});function Ur(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=t.length,n=e.length;if(Math.abs(r-n)!==1)return{add:!1,key:null};function i(l,c){var a=new Map;l.forEach(function(o){a.set(o,!0)});var s=c.filter(function(o){return!a.has(o)});return s.length===1?s[0]:null}return r<n?{add:!0,key:i(t,e)}:{add:!1,key:i(e,t)}}function Zt(t,e,r){var n=t.findIndex(function(a){return a.key===r}),i=t[n+1],l=e.findIndex(function(a){return a.key===r});if(i){var c=e.findIndex(function(a){return a.key===i.key});return e.slice(l+1,c)}return e.slice(l+1)}var Wr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],en={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Xr=function(){},Ae="RC_TREE_MOTION_".concat(Math.random()),wt={key:Ae},kn={key:Ae,level:0,index:0,pos:"0",node:wt,nodes:[wt]},tn={parent:null,children:[],pos:kn.pos,data:wt,title:null,key:Ae,isStart:[],isEnd:[]};function nn(t,e,r,n){return e===!1||!r?t:t.slice(0,Math.ceil(r/n)+1)}function rn(t){var e=t.key,r=t.pos;return Qe(e,r)}function qr(t){for(var e=String(t.data.key),r=t;r.parent;)r=r.parent,e="".concat(r.data.key," > ").concat(e);return e}var Gr=f.forwardRef(function(t,e){var r=t.prefixCls,n=t.data;t.selectable,t.checkable;var i=t.expandedKeys,l=t.selectedKeys,c=t.checkedKeys,a=t.loadedKeys,s=t.loadingKeys,o=t.halfCheckedKeys,v=t.keyEntities,d=t.disabled,g=t.dragging,m=t.dragOverNodeKey,u=t.dropPosition,x=t.motion,h=t.height,b=t.itemHeight,E=t.virtual,S=t.scrollWidth,D=t.focusable,N=t.activeItem,C=t.focused,K=t.tabIndex,T=t.onKeyDown,y=t.onFocus,O=t.onBlur,j=t.onActiveChange,$=t.onListChangeStart,A=t.onListChangeEnd,I=Ye(t,Wr),L=f.useRef(null),M=f.useRef(null);f.useImperativeHandle(e,function(){return{scrollTo:function(ee){L.current.scrollTo(ee)},getIndentWidth:function(){return M.current.offsetWidth}}});var B=f.useState(i),J=Y(B,2),ce=J[0],X=J[1],ne=f.useState(n),ve=Y(ne,2),V=ve[0],ae=ve[1],xe=f.useState(n),oe=Y(xe,2),Ce=oe[0],ie=oe[1],le=f.useState([]),Se=Y(le,2),Q=Se[0],q=Se[1],Z=f.useState(null),he=Y(Z,2),pe=he[0],De=he[1],Pe=f.useRef(n);Pe.current=n;function Te(){var U=Pe.current;ae(U),ie(U),q([]),De(null),A()}Me(function(){X(i);var U=Ur(ce,i);if(U.key!==null)if(U.add){var ee=V.findIndex(function(Ee){var fe=Ee.key;return fe===U.key}),de=nn(Zt(V,n,U.key),E,h,b),Ke=V.slice();Ke.splice(ee+1,0,tn),ie(Ke),q(de),De("show")}else{var we=n.findIndex(function(Ee){var fe=Ee.key;return fe===U.key}),Oe=nn(Zt(n,V,U.key),E,h,b),ge=n.slice();ge.splice(we+1,0,tn),ie(ge),q(Oe),De("hide")}else V!==n&&(ae(n),ie(n))},[i,n]),f.useEffect(function(){g||Te()},[g]);var Le=x?Ce:n,be={expandedKeys:i,selectedKeys:l,loadedKeys:a,loadingKeys:s,checkedKeys:c,halfCheckedKeys:o,dragOverNodeKey:m,dropPosition:u,keyEntities:v};return f.createElement(f.Fragment,null,C&&N&&f.createElement("span",{style:en,"aria-live":"assertive"},qr(N)),f.createElement("div",null,f.createElement("input",{style:en,disabled:D===!1||d,tabIndex:D!==!1?K:null,onKeyDown:T,onFocus:y,onBlur:O,value:"",onChange:Xr,"aria-label":"for screen reader"})),f.createElement("div",{className:"".concat(r,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},f.createElement("div",{className:"".concat(r,"-indent")},f.createElement("div",{ref:M,className:"".concat(r,"-indent-unit")}))),f.createElement(Dn,ue({},I,{data:Le,itemKey:rn,height:h,fullHeight:!1,virtual:E,itemHeight:b,scrollWidth:S,prefixCls:"".concat(r,"-list"),ref:L,role:"tree",onVisibleChange:function(ee){ee.every(function(de){return rn(de)!==Ae})&&Te()}}),function(U){var ee=U.pos,de=Object.assign({},(Tn(U.data),U.data)),Ke=U.title,we=U.key,Oe=U.isStart,ge=U.isEnd,Ee=Qe(we,ee);delete de.key,delete de.children;var fe=qe(Ee,be);return f.createElement(Vr,ue({},de,fe,{title:Ke,active:!!N&&we===N.key,pos:ee,data:U.data,isStart:Oe,isEnd:ge,motion:x,motionNodes:we===Ae?Q:null,motionType:pe,onMotionStart:$,onMotionEnd:Te,treeNodeRequiredProps:be,onMouseMove:function(){j(null)}}))}))}),Yr=10,Ct=(function(t){Gn(r,t);var e=Yn(r);function r(){var n;pn(this,r);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=e.call.apply(e,[this].concat(l)),w(F(n),"destroyed",!1),w(F(n),"delayedDragEnterLogic",void 0),w(F(n),"loadingRetryTimes",{}),w(F(n),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Ue()}),w(F(n),"dragStartMousePosition",null),w(F(n),"dragNodeProps",null),w(F(n),"currentMouseOverDroppableNodeKey",null),w(F(n),"listRef",f.createRef()),w(F(n),"onNodeDragStart",function(a,s){var o=n.state,v=o.expandedKeys,d=o.keyEntities,g=n.props.onDragStart,m=s.eventKey;n.dragNodeProps=s,n.dragStartMousePosition={x:a.clientX,y:a.clientY};var u=Ie(v,m);n.setState({draggingNodeKey:m,dragChildrenKeys:Fr(m,d),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(u),window.addEventListener("dragend",n.onWindowDragEnd),g?.({event:a,node:te(s)})}),w(F(n),"onNodeDragEnter",function(a,s){var o=n.state,v=o.expandedKeys,d=o.keyEntities,g=o.dragChildrenKeys,m=o.flattenNodes,u=o.indent,x=n.props,h=x.onDragEnter,b=x.onExpand,E=x.allowDrop,S=x.direction,D=s.pos,N=s.eventKey;if(n.currentMouseOverDroppableNodeKey!==N&&(n.currentMouseOverDroppableNodeKey=N),!n.dragNodeProps){n.resetDragState();return}var C=Jt(a,n.dragNodeProps,s,u,n.dragStartMousePosition,E,m,d,v,S),K=C.dropPosition,T=C.dropLevelOffset,y=C.dropTargetKey,O=C.dropContainerKey,j=C.dropTargetPos,$=C.dropAllowed,A=C.dragOverNodeKey;if(g.includes(y)||!$){n.resetDragState();return}if(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach(function(I){clearTimeout(n.delayedDragEnterLogic[I])}),n.dragNodeProps.eventKey!==s.eventKey&&(a.persist(),n.delayedDragEnterLogic[D]=window.setTimeout(function(){if(n.state.draggingNodeKey!==null){var I=Re(v),L=ye(d,s.eventKey);L&&(L.children||[]).length&&(I=$e(v,s.eventKey)),n.props.hasOwnProperty("expandedKeys")||n.setExpandedKeys(I),b?.(I,{node:te(s),expanded:!0,nativeEvent:a.nativeEvent})}},800)),n.dragNodeProps.eventKey===y&&T===0){n.resetDragState();return}n.setState({dragOverNodeKey:A,dropPosition:K,dropLevelOffset:T,dropTargetKey:y,dropContainerKey:O,dropTargetPos:j,dropAllowed:$}),h?.({event:a,node:te(s),expandedKeys:v})}),w(F(n),"onNodeDragOver",function(a,s){var o=n.state,v=o.dragChildrenKeys,d=o.flattenNodes,g=o.keyEntities,m=o.expandedKeys,u=o.indent,x=n.props,h=x.onDragOver,b=x.allowDrop,E=x.direction;if(n.dragNodeProps){var S=Jt(a,n.dragNodeProps,s,u,n.dragStartMousePosition,b,d,g,m,E),D=S.dropPosition,N=S.dropLevelOffset,C=S.dropTargetKey,K=S.dropContainerKey,T=S.dropTargetPos,y=S.dropAllowed,O=S.dragOverNodeKey;v.includes(C)||!y||(n.dragNodeProps.eventKey===C&&N===0?n.state.dropPosition===null&&n.state.dropLevelOffset===null&&n.state.dropTargetKey===null&&n.state.dropContainerKey===null&&n.state.dropTargetPos===null&&n.state.dropAllowed===!1&&n.state.dragOverNodeKey===null||n.resetDragState():D===n.state.dropPosition&&N===n.state.dropLevelOffset&&C===n.state.dropTargetKey&&K===n.state.dropContainerKey&&T===n.state.dropTargetPos&&y===n.state.dropAllowed&&O===n.state.dragOverNodeKey||n.setState({dropPosition:D,dropLevelOffset:N,dropTargetKey:C,dropContainerKey:K,dropTargetPos:T,dropAllowed:y,dragOverNodeKey:O}),h?.({event:a,node:te(s)}))}}),w(F(n),"onNodeDragLeave",function(a,s){n.currentMouseOverDroppableNodeKey===s.eventKey&&!a.currentTarget.contains(a.relatedTarget)&&(n.resetDragState(),n.currentMouseOverDroppableNodeKey=null);var o=n.props.onDragLeave;o?.({event:a,node:te(s)})}),w(F(n),"onWindowDragEnd",function(a){n.onNodeDragEnd(a,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)}),w(F(n),"onNodeDragEnd",function(a,s){var o=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),o?.({event:a,node:te(s)}),n.dragNodeProps=null,window.removeEventListener("dragend",n.onWindowDragEnd)}),w(F(n),"onNodeDrop",function(a,s){var o,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=n.state,g=d.dragChildrenKeys,m=d.dropPosition,u=d.dropTargetKey,x=d.dropTargetPos,h=d.dropAllowed;if(h){var b=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),u!==null){var E=W(W({},qe(u,n.getTreeNodeRequiredProps())),{},{active:((o=n.getActiveItem())===null||o===void 0?void 0:o.key)===u,data:ye(n.state.keyEntities,u).node}),S=g.includes(u);Fe(!S,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var D=Kt(x),N={event:a,node:te(E),dragNode:n.dragNodeProps?te(n.dragNodeProps):null,dragNodesKeys:[n.dragNodeProps.eventKey].concat(g),dropToGap:m!==0,dropPosition:m+Number(D[D.length-1])};v||b?.(N),n.dragNodeProps=null}}}),w(F(n),"cleanDragState",function(){var a=n.state.draggingNodeKey;a!==null&&n.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null,n.currentMouseOverDroppableNodeKey=null}),w(F(n),"triggerExpandActionExpand",function(a,s){var o=n.state,v=o.expandedKeys,d=o.flattenNodes,g=s.expanded,m=s.key,u=s.isLeaf;if(!(u||a.shiftKey||a.metaKey||a.ctrlKey)){var x=d.filter(function(b){return b.key===m})[0],h=te(W(W({},qe(m,n.getTreeNodeRequiredProps())),{},{data:x.data}));n.setExpandedKeys(g?Ie(v,m):$e(v,m)),n.onNodeExpand(a,h)}}),w(F(n),"onNodeClick",function(a,s){var o=n.props,v=o.onClick,d=o.expandAction;d==="click"&&n.triggerExpandActionExpand(a,s),v?.(a,s)}),w(F(n),"onNodeDoubleClick",function(a,s){var o=n.props,v=o.onDoubleClick,d=o.expandAction;d==="doubleClick"&&n.triggerExpandActionExpand(a,s),v?.(a,s)}),w(F(n),"onNodeSelect",function(a,s){var o=n.state.selectedKeys,v=n.state,d=v.keyEntities,g=v.fieldNames,m=n.props,u=m.onSelect,x=m.multiple,h=s.selected,b=s[g.key],E=!h;E?x?o=$e(o,b):o=[b]:o=Ie(o,b);var S=o.map(function(D){var N=ye(d,D);return N?N.node:null}).filter(Boolean);n.setUncontrolledState({selectedKeys:o}),u?.(o,{event:"select",selected:E,node:s,selectedNodes:S,nativeEvent:a.nativeEvent})}),w(F(n),"onNodeCheck",function(a,s,o){var v=n.state,d=v.keyEntities,g=v.checkedKeys,m=v.halfCheckedKeys,u=n.props,x=u.checkStrictly,h=u.onCheck,b=s.key,E,S={event:"check",node:s,checked:o,nativeEvent:a.nativeEvent};if(x){var D=o?$e(g,b):Ie(g,b),N=Ie(m,b);E={checked:D,halfChecked:N},S.checkedNodes=D.map(function(j){return ye(d,j)}).filter(Boolean).map(function(j){return j.node}),n.setUncontrolledState({checkedKeys:D})}else{var C=mt([].concat(Re(g),[b]),!0,d),K=C.checkedKeys,T=C.halfCheckedKeys;if(!o){var y=new Set(K);y.delete(b);var O=mt(Array.from(y),{halfCheckedKeys:T},d);K=O.checkedKeys,T=O.halfCheckedKeys}E=K,S.checkedNodes=[],S.checkedNodesPositions=[],S.halfCheckedKeys=T,K.forEach(function(j){var $=ye(d,j);if($){var A=$.node,I=$.pos;S.checkedNodes.push(A),S.checkedNodesPositions.push({node:A,pos:I})}}),n.setUncontrolledState({checkedKeys:K},!1,{halfCheckedKeys:T})}h?.(E,S)}),w(F(n),"onNodeLoad",function(a){var s,o=a.key,v=n.state.keyEntities,d=ye(v,o);if(!(d!=null&&(s=d.children)!==null&&s!==void 0&&s.length)){var g=new Promise(function(m,u){n.setState(function(x){var h=x.loadedKeys,b=h===void 0?[]:h,E=x.loadingKeys,S=E===void 0?[]:E,D=n.props,N=D.loadData,C=D.onLoad;if(!N||b.includes(o)||S.includes(o))return null;var K=N(a);return K.then(function(){var T=n.state.loadedKeys,y=$e(T,o);C?.(y,{event:"load",node:a}),n.setUncontrolledState({loadedKeys:y}),n.setState(function(O){return{loadingKeys:Ie(O.loadingKeys,o)}}),m()}).catch(function(T){if(n.setState(function(O){return{loadingKeys:Ie(O.loadingKeys,o)}}),n.loadingRetryTimes[o]=(n.loadingRetryTimes[o]||0)+1,n.loadingRetryTimes[o]>=Yr){var y=n.state.loadedKeys;Fe(!1,"Retry for `loadData` many times but still failed. No more retry."),n.setUncontrolledState({loadedKeys:$e(y,o)}),m()}u(T)}),{loadingKeys:$e(S,o)}})});return g.catch(function(){}),g}}),w(F(n),"onNodeMouseEnter",function(a,s){var o=n.props.onMouseEnter;o?.({event:a,node:s})}),w(F(n),"onNodeMouseLeave",function(a,s){var o=n.props.onMouseLeave;o?.({event:a,node:s})}),w(F(n),"onNodeContextMenu",function(a,s){var o=n.props.onRightClick;o&&(a.preventDefault(),o({event:a,node:s}))}),w(F(n),"onFocus",function(){var a=n.props.onFocus;n.setState({focused:!0});for(var s=arguments.length,o=new Array(s),v=0;v<s;v++)o[v]=arguments[v];a?.apply(void 0,o)}),w(F(n),"onBlur",function(){var a=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null);for(var s=arguments.length,o=new Array(s),v=0;v<s;v++)o[v]=arguments[v];a?.apply(void 0,o)}),w(F(n),"getTreeNodeRequiredProps",function(){var a=n.state,s=a.expandedKeys,o=a.selectedKeys,v=a.loadedKeys,d=a.loadingKeys,g=a.checkedKeys,m=a.halfCheckedKeys,u=a.dragOverNodeKey,x=a.dropPosition,h=a.keyEntities;return{expandedKeys:s||[],selectedKeys:o||[],loadedKeys:v||[],loadingKeys:d||[],checkedKeys:g||[],halfCheckedKeys:m||[],dragOverNodeKey:u,dropPosition:x,keyEntities:h}}),w(F(n),"setExpandedKeys",function(a){var s=n.state,o=s.treeData,v=s.fieldNames,d=gt(o,a,v);n.setUncontrolledState({expandedKeys:a,flattenNodes:d},!0)}),w(F(n),"onNodeExpand",function(a,s){var o=n.state.expandedKeys,v=n.state,d=v.listChanging,g=v.fieldNames,m=n.props,u=m.onExpand,x=m.loadData,h=s.expanded,b=s[g.key];if(!d){var E=o.includes(b),S=!h;if(Fe(h&&E||!h&&!E,"Expand state not sync with index check"),o=S?$e(o,b):Ie(o,b),n.setExpandedKeys(o),u?.(o,{node:s,expanded:S,nativeEvent:a.nativeEvent}),S&&x){var D=n.onNodeLoad(s);D&&D.then(function(){var N=gt(n.state.treeData,o,g);n.setUncontrolledState({flattenNodes:N})}).catch(function(){var N=n.state.expandedKeys,C=Ie(N,b);n.setExpandedKeys(C)})}}}),w(F(n),"onListChangeStart",function(){n.setUncontrolledState({listChanging:!0})}),w(F(n),"onListChangeEnd",function(){setTimeout(function(){n.setUncontrolledState({listChanging:!1})})}),w(F(n),"onActiveChange",function(a){var s=n.state.activeKey,o=n.props,v=o.onActiveChange,d=o.itemScrollOffset,g=d===void 0?0:d;s!==a&&(n.setState({activeKey:a}),a!==null&&n.scrollTo({key:a,offset:g}),v?.(a))}),w(F(n),"getActiveItem",function(){var a=n.state,s=a.activeKey,o=a.flattenNodes;return s===null?null:o.find(function(v){var d=v.key;return d===s})||null}),w(F(n),"offsetActiveKey",function(a){var s=n.state,o=s.flattenNodes,v=s.activeKey,d=o.findIndex(function(u){var x=u.key;return x===v});d===-1&&a<0&&(d=o.length),d=(d+a+o.length)%o.length;var g=o[d];if(g){var m=g.key;n.onActiveChange(m)}else n.onActiveChange(null)}),w(F(n),"onKeyDown",function(a){var s=n.state,o=s.activeKey,v=s.expandedKeys,d=s.checkedKeys,g=s.fieldNames,m=n.props,u=m.onKeyDown,x=m.checkable,h=m.selectable;switch(a.which){case Ve.UP:{n.offsetActiveKey(-1),a.preventDefault();break}case Ve.DOWN:{n.offsetActiveKey(1),a.preventDefault();break}}var b=n.getActiveItem();if(b&&b.data){var E=n.getTreeNodeRequiredProps(),S=b.data.isLeaf===!1||!!(b.data[g.children]||[]).length,D=te(W(W({},qe(o,E)),{},{data:b.data,active:!0}));switch(a.which){case Ve.LEFT:{S&&v.includes(o)?n.onNodeExpand({},D):b.parent&&n.onActiveChange(b.parent.key),a.preventDefault();break}case Ve.RIGHT:{S&&!v.includes(o)?n.onNodeExpand({},D):b.children&&b.children.length&&n.onActiveChange(b.children[0].key),a.preventDefault();break}case Ve.ENTER:case Ve.SPACE:{x&&!D.disabled&&D.checkable!==!1&&!D.disableCheckbox?n.onNodeCheck({},D,!d.includes(o)):!x&&h&&!D.disabled&&D.selectable!==!1&&n.onNodeSelect({},D);break}}}u?.(a)}),w(F(n),"setUncontrolledState",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!n.destroyed){var v=!1,d=!0,g={};Object.keys(a).forEach(function(m){if(n.props.hasOwnProperty(m)){d=!1;return}v=!0,g[m]=a[m]}),v&&(!s||d)&&n.setState(W(W({},g),o))}}),w(F(n),"scrollTo",function(a){n.listRef.current.scrollTo(a)}),n}return hn(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,l=i.activeKey,c=i.itemScrollOffset,a=c===void 0?0:c;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:a}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,l=i.focused,c=i.flattenNodes,a=i.keyEntities,s=i.draggingNodeKey,o=i.activeKey,v=i.dropLevelOffset,d=i.dropContainerKey,g=i.dropTargetKey,m=i.dropPosition,u=i.dragOverNodeKey,x=i.indent,h=this.props,b=h.prefixCls,E=h.className,S=h.style,D=h.showLine,N=h.focusable,C=h.tabIndex,K=C===void 0?0:C,T=h.selectable,y=h.showIcon,O=h.icon,j=h.switcherIcon,$=h.draggable,A=h.checkable,I=h.checkStrictly,L=h.disabled,M=h.motion,B=h.loadData,J=h.filterTreeNode,ce=h.height,X=h.itemHeight,ne=h.scrollWidth,ve=h.virtual,V=h.titleRender,ae=h.dropIndicatorRender,xe=h.onContextMenu,oe=h.onScroll,Ce=h.direction,ie=h.rootClassName,le=h.rootStyle,Se=gn(this.props,{aria:!0,data:!0}),Q;$&&(We($)==="object"?Q=$:typeof $=="function"?Q={nodeDraggable:$}:Q={});var q={prefixCls:b,selectable:T,showIcon:y,icon:O,switcherIcon:j,draggable:Q,draggingNodeKey:s,checkable:A,checkStrictly:I,disabled:L,keyEntities:a,dropLevelOffset:v,dropContainerKey:d,dropTargetKey:g,dropPosition:m,dragOverNodeKey:u,indent:x,direction:Ce,dropIndicatorRender:ae,loadData:B,filterTreeNode:J,titleRender:V,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return f.createElement(Nt.Provider,{value:q},f.createElement("div",{className:re(b,E,ie,w(w(w({},"".concat(b,"-show-line"),D),"".concat(b,"-focused"),l),"".concat(b,"-active-focused"),o!==null)),style:le},f.createElement(Gr,ue({ref:this.listRef,prefixCls:b,style:S,data:c,disabled:L,selectable:T,checkable:!!A,motion:M,dragging:s!==null,height:ce,itemHeight:X,virtual:ve,focusable:N,focused:l,tabIndex:K,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:xe,onScroll:oe,scrollWidth:ne},this.getTreeNodeRequiredProps(),Se))))}}],[{key:"getDerivedStateFromProps",value:function(i,l){var c=l.prevProps,a={prevProps:i};function s(K){return!c&&i.hasOwnProperty(K)||c&&c[K]!==i[K]}var o,v=l.fieldNames;if(s("fieldNames")&&(v=Ue(i.fieldNames),a.fieldNames=v),s("treeData")?o=i.treeData:s("children")&&(Fe(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),o=Nn(i.children)),o){a.treeData=o;var d=Kn(o,{fieldNames:v});a.keyEntities=W(w({},Ae,kn),d.keyEntities)}var g=a.keyEntities||l.keyEntities;if(s("expandedKeys")||c&&s("autoExpandParent"))a.expandedKeys=i.autoExpandParent||!c&&i.defaultExpandParent?Dt(i.expandedKeys,g):i.expandedKeys;else if(!c&&i.defaultExpandAll){var m=W({},g);delete m[Ae];var u=[];Object.keys(m).forEach(function(K){var T=m[K];T.children&&T.children.length&&u.push(T.key)}),a.expandedKeys=u}else!c&&i.defaultExpandedKeys&&(a.expandedKeys=i.autoExpandParent||i.defaultExpandParent?Dt(i.defaultExpandedKeys,g):i.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,o||a.expandedKeys){var x=gt(o||l.treeData,a.expandedKeys||l.expandedKeys,v);a.flattenNodes=x}if(i.selectable&&(s("selectedKeys")?a.selectedKeys=Qt(i.selectedKeys,i):!c&&i.defaultSelectedKeys&&(a.selectedKeys=Qt(i.defaultSelectedKeys,i))),i.checkable){var h;if(s("checkedKeys")?h=yt(i.checkedKeys)||{}:!c&&i.defaultCheckedKeys?h=yt(i.defaultCheckedKeys)||{}:o&&(h=yt(i.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),h){var b=h,E=b.checkedKeys,S=E===void 0?[]:E,D=b.halfCheckedKeys,N=D===void 0?[]:D;if(!i.checkStrictly){var C=mt(S,!0,g);S=C.checkedKeys,N=C.halfCheckedKeys}a.checkedKeys=S,a.halfCheckedKeys=N}}return s("loadedKeys")&&(a.loadedKeys=i.loadedKeys),a}}]),r})(f.Component);w(Ct,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:zr,allowDrop:function(){return!0},expandAction:!1});w(Ct,"TreeNode",Ge);var Jr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Qr=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:Jr}))},Rn=f.forwardRef(Qr),Zr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},ea=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:Zr}))},ta=f.forwardRef(ea),na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},ra=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:na}))},aa=f.forwardRef(ra),oa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},ia=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:oa}))},la=f.forwardRef(ia);const sa=({treeCls:t,treeNodeCls:e,directoryNodeSelectedBg:r,directoryNodeSelectedColor:n,motionDurationMid:i,borderRadius:l,controlItemBgHover:c})=>({[`${t}${t}-directory ${e}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`&:has(${t}-drop-indicator)`]:{position:"relative"},[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${i}`,content:'""',borderRadius:l},"&:hover:before":{background:c}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{background:r,borderRadius:l,[`${t}-switcher, ${t}-draggable-icon`]:{color:n},[`${t}-node-content-wrapper`]:{color:n,background:"transparent","&, &:hover":{color:n},"&:before, &:hover:before":{background:r}}}}}),ca=new tr("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),da=(t,e)=>({[`.${t}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),ua=(t,e)=>({[`.${t}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${Et(e.lineWidthBold)} solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),fa=(t,e)=>{const{treeCls:r,treeNodeCls:n,treeNodePadding:i,titleHeight:l,indentSize:c,nodeSelectedBg:a,nodeHoverBg:s,colorTextQuaternary:o,controlItemBgActiveDisabled:v}=e;return{[r]:Object.assign(Object.assign({},er(e)),{"--rc-virtual-list-scrollbar-bg":e.colorSplit,background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${r}-rtl ${r}-switcher_close ${r}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${r}-active-focused)`]:nr(e),[`${r}-list-holder-inner`]:{alignItems:"flex-start"},[`&${r}-block-node`]:{[`${r}-list-holder-inner`]:{alignItems:"stretch",[`${r}-node-content-wrapper`]:{flex:"auto"},[`${n}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:ca,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:e.borderRadius}}},[n]:{display:"flex",alignItems:"flex-start",marginBottom:i,lineHeight:Et(l),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:i},[`&-disabled ${r}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${r}-checkbox-disabled + ${r}-node-selected,&${n}-disabled${n}-selected ${r}-node-content-wrapper`]:{backgroundColor:v},[`${r}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${n}-disabled)`]:{[`${r}-node-content-wrapper`]:{"&:hover":{color:e.nodeHoverColor}}},[`&-active ${r}-node-content-wrapper`]:{background:e.controlItemBgHover},[`&:not(${n}-disabled).filter-node ${r}-title`]:{color:e.colorPrimary,fontWeight:e.fontWeightStrong},"&-draggable":{cursor:"grab",[`${r}-draggable-icon`]:{flexShrink:0,width:l,textAlign:"center",visibility:"visible",color:o},[`&${n}-disabled ${r}-draggable-icon`]:{visibility:"hidden"}}},[`${r}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:c}},[`${r}-draggable-icon`]:{visibility:"hidden"},[`${r}-switcher, ${r}-checkbox`]:{marginInlineEnd:e.calc(e.calc(l).sub(e.controlInteractiveSize)).div(2).equal()},[`${r}-switcher`]:Object.assign(Object.assign({},da(t,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:l,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${e.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:l,height:l,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`},[`&:not(${r}-switcher-noop):hover:before`]:{backgroundColor:e.colorBgTextHover},[`&_close ${r}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(l).div(2).equal(),bottom:e.calc(i).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:e.calc(e.calc(l).div(2).equal()).mul(.8).equal(),height:e.calc(l).div(2).equal(),borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${r}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:l,paddingBlock:0,paddingInline:e.paddingXS,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},ua(t,e)),{"&:hover":{backgroundColor:s},[`&${r}-node-selected`]:{color:e.nodeSelectedColor,backgroundColor:a},[`${r}-iconEle`]:{display:"inline-block",width:l,height:l,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${r}-unselectable ${r}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${e.colorPrimary}`},"&-show-line":{[`${r}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:e.calc(l).div(2).equal(),bottom:e.calc(i).mul(-1).equal(),borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${r}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${n}-leaf-last ${r}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${Et(e.calc(l).div(2).equal())} !important`}})}},va=(t,e,r=!0)=>{const n=`.${t}`,i=`${n}-treenode`,l=e.calc(e.paddingXS).div(2).equal(),c=Zn(e,{treeCls:n,treeNodeCls:i,treeNodePadding:l});return[fa(t,c),r&&sa(c)].filter(Boolean)},ha=t=>{const{controlHeightSM:e,controlItemBgHover:r,controlItemBgActive:n}=t,i=e;return{titleHeight:i,indentSize:i,nodeHoverBg:r,nodeHoverColor:t.colorText,nodeSelectedBg:n,nodeSelectedColor:t.colorText}},pa=t=>{const{colorTextLightSolid:e,colorPrimary:r}=t;return Object.assign(Object.assign({},ha(t)),{directoryNodeSelectedColor:e,directoryNodeSelectedBg:r})},ga=Jn("Tree",(t,{prefixCls:e})=>[{[t.componentCls]:cr(`${e}-checkbox`,t)},va(e,t),Qn(t)],pa),an=4;function ma(t){const{dropPosition:e,dropLevelOffset:r,prefixCls:n,indent:i,direction:l="ltr"}=t,c=l==="ltr"?"left":"right",a=l==="ltr"?"right":"left",s={[c]:-r*i+an,[a]:0};switch(e){case-1:s.top=-3;break;case 1:s.bottom=-3;break;default:s.bottom=-3,s[c]=i+an;break}return _.createElement("div",{style:s,className:`${n}-drop-indicator`})}var ya={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},xa=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:ya}))},ba=f.forwardRef(xa),Ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Sa=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:Ea}))},Da=f.forwardRef(Sa),wa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Na=function(e,r){return f.createElement(ze,ue({},e,{ref:r,icon:wa}))},Ka=f.forwardRef(Na);const Ca=t=>{var e,r;const{prefixCls:n,switcherIcon:i,treeNodeProps:l,showLine:c,switcherLoadingIcon:a}=t,{isLeaf:s,expanded:o,loading:v}=l;if(v)return f.isValidElement(a)?a:f.createElement(rr,{className:`${n}-switcher-loading-icon`});let d;if(c&&typeof c=="object"&&(d=c.showLeafIcon),s){if(!c)return null;if(typeof d!="boolean"&&d){const u=typeof d=="function"?d(l):d,x=`${n}-switcher-line-custom-icon`;return f.isValidElement(u)?Ht(u,{className:re((e=u.props)===null||e===void 0?void 0:e.className,x)}):u}return d?f.createElement(Rn,{className:`${n}-switcher-line-icon`}):f.createElement("span",{className:`${n}-switcher-leaf-line`})}const g=`${n}-switcher-icon`,m=typeof i=="function"?i(l):i;return f.isValidElement(m)?Ht(m,{className:re((r=m.props)===null||r===void 0?void 0:r.className,g)}):m!==void 0?m:c?o?f.createElement(Da,{className:`${n}-switcher-line-icon`}):f.createElement(Ka,{className:`${n}-switcher-line-icon`}):f.createElement(ba,{className:g})},Pn=_.forwardRef((t,e)=>{var r;const{getPrefixCls:n,direction:i,virtual:l,tree:c}=_.useContext(mn),{prefixCls:a,className:s,showIcon:o=!1,showLine:v,switcherIcon:d,switcherLoadingIcon:g,blockNode:m=!1,children:u,checkable:x=!1,selectable:h=!0,draggable:b,motion:E,style:S}=t,D=n("tree",a),N=n(),C=E??Object.assign(Object.assign({},ar(N)),{motionAppear:!1}),K=Object.assign(Object.assign({},t),{checkable:x,selectable:h,showIcon:o,motion:C,blockNode:m,showLine:!!v,dropIndicatorRender:ma}),[T,y,O]=ga(D),[,j]=or(),$=j.paddingXS/2+(((r=j.Tree)===null||r===void 0?void 0:r.titleHeight)||j.controlHeightSM),A=_.useMemo(()=>{if(!b)return!1;let L={};switch(typeof b){case"function":L.nodeDraggable=b;break;case"object":L=Object.assign({},b);break}return L.icon!==!1&&(L.icon=L.icon||_.createElement(la,null)),L},[b]),I=L=>_.createElement(Ca,{prefixCls:D,switcherIcon:d,switcherLoadingIcon:g,treeNodeProps:L,showLine:v});return T(_.createElement(Ct,Object.assign({itemHeight:$,ref:e,virtual:l},K,{style:Object.assign(Object.assign({},c?.style),S),prefixCls:D,className:re({[`${D}-icon-hide`]:!o,[`${D}-block-node`]:m,[`${D}-unselectable`]:!h,[`${D}-rtl`]:i==="rtl"},c?.className,s,y,O),direction:i,checkable:x&&_.createElement("span",{className:`${D}-checkbox-inner`}),selectable:h,switcherIcon:I,draggable:A}),u))}),on=0,xt=1,ln=2;function Tt(t,e,r){const{key:n,children:i}=r;function l(c){const a=c[n],s=c[i];e(a,c)!==!1&&Tt(s||[],e,r)}t.forEach(l)}function Ta({treeData:t,expandedKeys:e,startKey:r,endKey:n,fieldNames:i}){const l=[];let c=on;if(r&&r===n)return[r];if(!r||!n)return[];function a(s){return s===r||s===n}return Tt(t,s=>{if(c===ln)return!1;if(a(s)){if(l.push(s),c===on)c=xt;else if(c===xt)return c=ln,!1}else c===xt&&l.push(s);return e.includes(s)},Ue(i)),l}function bt(t,e,r){const n=Re(e),i=[];return Tt(t,(l,c)=>{const a=n.indexOf(l);return a!==-1&&(i.push(c),n.splice(a,1)),!!n.length},Ue(r)),i}var sn=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};function ka(t){const{isLeaf:e,expanded:r}=t;return e?f.createElement(Rn,null):r?f.createElement(ta,null):f.createElement(aa,null)}function cn({treeData:t,children:e}){return t||Nn(e)}const Ra=(t,e)=>{var{defaultExpandAll:r,defaultExpandParent:n,defaultExpandedKeys:i}=t,l=sn(t,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const c=f.useRef(null),a=f.useRef(null),s=()=>{const{keyEntities:T}=Kn(cn(l));let y;return r?y=Object.keys(T):n?y=Dt(l.expandedKeys||i||[],T):y=l.expandedKeys||i||[],y},[o,v]=f.useState(l.selectedKeys||l.defaultSelectedKeys||[]),[d,g]=f.useState(()=>s());f.useEffect(()=>{"selectedKeys"in l&&v(l.selectedKeys)},[l.selectedKeys]),f.useEffect(()=>{"expandedKeys"in l&&g(l.expandedKeys)},[l.expandedKeys]);const m=(T,y)=>{var O;return"expandedKeys"in l||g(T),(O=l.onExpand)===null||O===void 0?void 0:O.call(l,T,y)},u=(T,y)=>{var O;const{multiple:j,fieldNames:$}=l,{node:A,nativeEvent:I}=y,{key:L=""}=A,M=cn(l),B=Object.assign(Object.assign({},y),{selected:!0}),J=I?.ctrlKey||I?.metaKey,ce=I?.shiftKey;let X;j&&J?(X=T,c.current=L,a.current=X,B.selectedNodes=bt(M,X,$)):j&&ce?(X=Array.from(new Set([].concat(Re(a.current||[]),Re(Ta({treeData:M,expandedKeys:d,startKey:L,endKey:c.current,fieldNames:$}))))),B.selectedNodes=bt(M,X,$)):(X=[L],c.current=L,a.current=X,B.selectedNodes=bt(M,X,$)),(O=l.onSelect)===null||O===void 0||O.call(l,X,B),"selectedKeys"in l||v(X)},{getPrefixCls:x,direction:h}=f.useContext(mn),{prefixCls:b,className:E,showIcon:S=!0,expandAction:D="click"}=l,N=sn(l,["prefixCls","className","showIcon","expandAction"]),C=x("tree",b),K=re(`${C}-directory`,{[`${C}-directory-rtl`]:h==="rtl"},E);return f.createElement(Pn,Object.assign({icon:ka,ref:e,blockNode:!0},N,{showIcon:S,expandAction:D,prefixCls:C,className:K,expandedKeys:d,selectedKeys:o,onSelect:u,onExpand:m}))},Pa=f.forwardRef(Ra),it=Pn;it.DirectoryTree=Pa;it.TreeNode=Ge;var Oa=function(t){return typeof t=="function"};function dn(t,e){if(t===e)return!0;for(var r=0;r<t.length;r++)if(!Object.is(t[r],e[r]))return!1;return!0}function On(t){var e=f.useRef(t);return e.current=t,e}var ja=function(t){var e=On(t);f.useEffect(function(){return function(){e.current()}},[])},Ia=!!(typeof window<"u"&&window.document&&window.document.createElement);function jn(t,e){if(Ia){if(!t)return e;var r;return Oa(t)?r=t():"current"in t?r=t.current:r=t,r}}var Ma=function(t){var e=function(r,n,i){var l=f.useRef(!1),c=f.useRef([]),a=f.useRef([]),s=f.useRef(void 0);t(function(){var o,v=Array.isArray(i)?i:[i],d=v.map(function(g){return jn(g)});if(!l.current){l.current=!0,c.current=d,a.current=n,s.current=r();return}(d.length!==c.current.length||!dn(c.current,d)||!dn(a.current,n))&&((o=s.current)===null||o===void 0||o.call(s),c.current=d,a.current=n,s.current=r())}),ja(function(){var o;(o=s.current)===null||o===void 0||o.call(s),l.current=!1})};return e},La=Ma(f.useEffect);function rt(t,e,r){r===void 0&&(r={});var n=r.enable,i=n===void 0?!0:n,l=On(e);La(function(){if(i){var c=jn(r.target,window);if(c?.addEventListener){var a=function(o){return l.current(o)},s=Array.isArray(t)?t:[t];return s.forEach(function(o){c.addEventListener(o,a,{capture:r.capture,once:r.once,passive:r.passive})}),function(){s.forEach(function(o){c.removeEventListener(o,a,{capture:r.capture})})}}}},[t,r.capture,r.once,r.passive,i],r.target)}function lt({className:t="",locale:e,targetType:r="tree",onDrop:n}){const i=f.useContext(ir),l=e||i||"zh",c=f.useRef(null);rt(["dragover","dragenter","dragleave","drop"],u=>{u.preventDefault(),u.stopPropagation()},{target:c}),rt(["dragover","dragenter"],()=>{c.current.style.borderColor="#2b7fff"},{target:c}),rt(["dragleave","drop"],()=>{c.current.style.borderColor="#d1d5dc"},{target:c}),rt(["drop"],u=>{a(u)},{target:c});async function a(u){try{await s(u)}catch{m(u)}}async function s(u){const x=u.dataTransfer?.items;if(x){const h=Array.from(x),b=[];for(let S=0;S<h.length;S++){const D=h[S];if(D.kind!=="file")continue;const N=D.webkitGetAsEntry();N&&b.push(N)}if(!b.length)return;const E=[];for(let S=0;S<b.length;S++){const D=b[S];if(r==="tree")await o(D,E);else{const N=await v(D);E.push(...N)}}n(E)}}async function o(u,x){if(u.isFile){const h=await d(u);x.push({file:h,filePath:u.fullPath,folderPath:u.fullPath.split("/").slice(0,-1).join("/"),name:h.name,size:h.size,type:"file"})}else if(u.isDirectory){let h=u.createReader();const b=await g(h);let E=[];x.push({filePath:u.fullPath,folderPath:u.fullPath.split("/").slice(0,-1).join("/"),name:u.name,type:"folder",children:E});const S=b.map(D=>o(D,E));await Promise.all(S)}}async function v(u){const x=[];if(u.isFile){const h=await d(u);x.push({file:h,filePath:u.fullPath,folderPath:u.fullPath.split("/").slice(0,-1).join("/"),name:h.name,size:h.size,type:"file"})}else if(u.isDirectory){let h=u.createReader();const E=(await g(h)).map(D=>v(D));(await Promise.all(E)).forEach(D=>{x.push(...D)})}return x}function d(u){return new Promise((x,h)=>{u.file(x,h)})}function g(u){return new Promise((x,h)=>{const b=[],E=()=>{u.readEntries(S=>{S.length===0?x(b):(b.push(...S),E())},S=>{h(S)})};E()})}function m(u){const x=u.dataTransfer?.files;if(x){const b=Array.from(x).filter(E=>E.name.includes(".")||E.type!==""||E.size>0).map(E=>({file:E,filePath:E.name,folderPath:"",name:E.name,size:E.size,type:"file"}));n(b)}}return p.jsx("div",{ref:c,className:re("border-2 border-dashed border-gray-300 rounded-md p-4 text-gray-400 text-2xl h-50 flex items-center justify-center",t),children:l==="zh"?"请拖放文件或文件夹到这里":"Please drag and drop files or folders here"})}function $a(){const t=Je.c(6);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[r,n]=_.useState(e);let i;if(t[1]===Symbol.for("react.memo_cache_sentinel")){const a=function(o){console.log("fileTrees",o),n(o)};i=p.jsx(lt,{targetType:"tree",onDrop:a,className:"h-30!"}),t[1]=i}else i=t[1];let l;t[2]!==r?(l=r.length>0&&p.jsx(it,{fieldNames:{title:"name",key:"filePath",children:"children"},treeData:r,showLine:!0,defaultExpandAll:!0,height:320,showIcon:!0,icon:Fa,className:"mt-4 h-80"}),t[2]=r,t[3]=l):l=t[3];let c;return t[4]!==l?(c=p.jsxs(p.Fragment,{children:[i,l]}),t[4]=l,t[5]=c):c=t[5],c}function Fa(t){return p.jsx(yn,{fileName:t.title,type:t.type==="file"?"file":"folder"})}const _a=`import React from 'react'
import { Tree } from 'antd'
import DropElement from '../../components/DropElement'
import type { FileTreeItem } from '../../types/files'
import FileIcon from '../../components/FileIcon'

function DropUpload() {
  const [treeData, setTreeData] = React.useState<FileTreeItem[]>([])
  
  function onDropTree(fileTrees: FileTreeItem[]) {
    console.log('fileTrees', fileTrees)
    setTreeData(fileTrees)
  }

  return (
    <>
      <DropElement targetType='tree' onDrop={onDropTree} className='h-30!'></DropElement>
      {treeData.length > 0 && (
        <Tree
          fieldNames={{
            title: 'name',
            key: 'filePath',
            children: 'children'
          }}
          // @ts-ignore
          treeData={treeData}
          showLine={true}
          defaultExpandAll
          height={320}
          showIcon
          icon={(props: any) => {
            return <FileIcon fileName={props.title} type={props.type === 'file' ? 'file' : 'folder'}></FileIcon>
          }}
          className='mt-4 h-80'
        />
      )}
    </>
  )
}

export default DropUpload
`;function Aa(){const t=Je.c(10);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[r,n]=f.useState(e),[i,l]=f.useState(!1);let c;if(t[1]===Symbol.for("react.memo_cache_sentinel")){let v=function(g){return g.map(za)};const d=function(m){n(v(m)),l(!0)};c=p.jsx(lt,{targetType:"list",onDrop:d,className:"mt-4"}),t[1]=c}else c=t[1];let a;t[2]!==r?(a=p.jsx(bn,{className:"mt-4! max-h-100 overflow-auto",children:r}),t[2]=r,t[3]=a):a=t[3];let s;t[4]!==i||t[5]!==r?(s=p.jsx(xn,{open:i,list:r,setOpen:l}),t[4]=i,t[5]=r,t[6]=s):s=t[6];let o;return t[7]!==a||t[8]!==s?(o=p.jsxs(p.Fragment,{children:[c,a,s]}),t[7]=a,t[8]=s,t[9]=o):o=t[9],o}function za(t){return{type:t.type,file:t.file,name:t.name,filePath:t.filePath,folderPath:t.folderPath}}const Ha=`import { useState } from 'react'
import DropElement from '../../components/DropElement'
import type { FileTreeFileItem, FileItemType } from '../../types/files'
import FilesUploadDrawer from '../../components/FilesUploadDrawer'
import JsonView from '../../components/JsonView'

function FileList() {
  const [listData, setListData] = useState<FileItemType[]>([])
  const [drawerOpen, setDrawerOpen] = useState(false)

  function onDropList(fileList: FileTreeFileItem[]) {
    setListData(changeFileTreeItemToFileItemType(fileList))
    setDrawerOpen(true)
  }
  function changeFileTreeItemToFileItemType(fileList: FileTreeFileItem[]): FileItemType[] {
    return fileList.map(item => ({
      type: item.type,
      file: item.file,
      name: item.name,
      filePath: item.filePath,
      folderPath: item.folderPath,
    }))
  }

  return (
    <>
      <DropElement targetType='list' onDrop={onDropList} className='mt-4'></DropElement>
      <JsonView className='mt-4! max-h-100 overflow-auto'>
        {listData}
      </JsonView>
      <FilesUploadDrawer
        open={drawerOpen}
        list={listData}
        setOpen={setDrawerOpen}
      />
    </>
  )
}

export default FileList
`;function un(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...ot(),...t.components};return p.jsxs(p.Fragment,{children:[p.jsx(e.h1,{id:"dropelement",children:"DropElement"}),`
`,p.jsx(e.p,{children:"拖拽组件，支持拖拽多个文件/文件夹，可以指定回调函数的参数类型是 文件树 还是 文件列表。"}),`
`,p.jsx(e.h2,{id:"目录",children:"目录"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsxs(e.li,{children:[p.jsx(e.a,{href:"#api",children:"API"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#%E5%8F%82%E6%95%B0-props",children:"参数 Props"})}),`
`]}),`
`]}),`
`,p.jsxs(e.li,{children:[p.jsx(e.a,{href:"#%E6%BC%94%E7%A4%BA%E7%A4%BA%E4%BE%8B",children:"演示示例"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#%E6%96%87%E4%BB%B6%E6%A0%91",children:"文件树"})}),`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8",children:"文件列表"})}),`
`]}),`
`]}),`
`]}),`
`,p.jsx(e.h2,{id:"api",children:"API"}),`
`,p.jsx(e.h3,{id:"参数-props",children:"参数 Props"}),`
`,p.jsx(e.pre,{children:p.jsx(e.code,{className:"language-ts",children:`export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeFileItem = Omit<FileItemType, 'type'> & {
  type: 'file'
}

export type FolderItemType = {
  type: 'folder'
  name: string
  filePath: string
  folderPath: string
  children: FileTreeItem[]
}
export type FileTreeItem = FileTreeFileItem | FolderItemType

export type TargetType = 'tree' | 'list'
`})}),`
`,p.jsx(e.pre,{children:p.jsx(e.code,{className:"language-ts",children:`import type { TargetType, FileTreeFileItem, FileTreeItem } from '../types/files'

export type DropElementProps<T extends TargetType> = {
  className?: string
  locale?: LocaleType
  targetType: T // 执行 onDrop 时，参数的类型， tree 时为文件树，list 时为文件列表
  onDrop: (fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void
}
`})}),`
`,p.jsxs(e.table,{children:[p.jsx(e.thead,{children:p.jsxs(e.tr,{children:[p.jsx(e.th,{children:"属性"}),p.jsx(e.th,{children:"说明"}),p.jsx(e.th,{children:"类型"}),p.jsx(e.th,{children:"默认值"})]})}),p.jsxs(e.tbody,{children:[p.jsxs(e.tr,{children:[p.jsx(e.td,{children:p.jsx(e.code,{children:"className"})}),p.jsx(e.td,{children:"自定义class类名"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"string"})}),p.jsx(e.td,{children:"-"})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:p.jsx(e.code,{children:"locale"})}),p.jsx(e.td,{children:"语言"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'zh' | 'en'"})}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'zh'"})})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:p.jsx(e.code,{children:"type"})}),p.jsx(e.td,{children:"回调函数参数类型"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'tree' | 'list'"})}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'tree'"})})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:p.jsx(e.code,{children:"onDrop"})}),p.jsx(e.td,{children:"拖拽结束后的回调函数"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"(fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void"})}),p.jsx(e.td,{children:"-"})]})]})]}),`
`,p.jsx(e.h2,{id:"演示示例",children:"演示示例"}),`
`,p.jsx(e.h3,{id:"文件树",children:"文件树"}),`
`,p.jsx(at,{code:_a,title:"文件树",description:"拖拽文件/文件夹到此处，使用文件树查看文件结构。",children:p.jsx($a,{})}),`
`,p.jsx(e.h3,{id:"文件列表",children:"文件列表"}),`
`,p.jsx(at,{code:Ha,title:"文件列表",description:"拖拽文件/文件夹到此处，使用文件列表直接上传。",children:p.jsx(Aa,{})})]})}function Ba(t={}){const{wrapper:e}={...ot(),...t.components};return e?p.jsx(e,{...t,children:p.jsx(un,{...t})}):un(t)}function Va(){const t=Je.c(6);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[r,n]=_.useState(e);let i;if(t[1]===Symbol.for("react.memo_cache_sentinel")){const a=function(o){console.log("fileTrees",o),n(o)};i=p.jsx(lt,{targetType:"tree",onDrop:a,className:"h-30!"}),t[1]=i}else i=t[1];let l;t[2]!==r?(l=r.length>0&&p.jsx(it,{fieldNames:{title:"name",key:"filePath",children:"children"},treeData:r,showLine:!0,defaultExpandAll:!0,height:320,showIcon:!0,icon:Ua,className:"mt-4 h-80"}),t[2]=r,t[3]=l):l=t[3];let c;return t[4]!==l?(c=p.jsxs(p.Fragment,{children:[i,l]}),t[4]=l,t[5]=c):c=t[5],c}function Ua(t){return p.jsx(yn,{fileName:t.title,type:t.type==="file"?"file":"folder"})}const Wa=`import React from 'react'
import { Tree } from 'antd'
import DropElement from '../../../components/DropElement'
import type { FileTreeItem } from '../../../types/files'
import FileIcon from '../../../components/FileIcon'

function DropUpload() {
  const [treeData, setTreeData] = React.useState<FileTreeItem[]>([])
  
  function onDropTree(fileTrees: FileTreeItem[]) {
    console.log('fileTrees', fileTrees)
    setTreeData(fileTrees)
  }

  return (
    <>
      <DropElement targetType='tree' onDrop={onDropTree} className='h-30!'></DropElement>
      {treeData.length > 0 && (
        <Tree
          fieldNames={{
            title: 'name',
            key: 'filePath',
            children: 'children'
          }}
          // @ts-ignore
          treeData={treeData}
          showLine={true}
          defaultExpandAll
          height={320}
          showIcon
          icon={(props: any) => {
            return <FileIcon fileName={props.title} type={props.type === 'file' ? 'file' : 'folder'}></FileIcon>
          }}
          className='mt-4 h-80'
        />
      )}
    </>
  )
}

export default DropUpload
`;function Xa(){const t=Je.c(10);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0];const[r,n]=f.useState(e),[i,l]=f.useState(!1);let c;if(t[1]===Symbol.for("react.memo_cache_sentinel")){let v=function(g){return g.map(qa)};const d=function(m){n(v(m)),l(!0)};c=p.jsx(lt,{targetType:"list",onDrop:d,className:"mt-4"}),t[1]=c}else c=t[1];let a;t[2]!==r?(a=p.jsx(bn,{className:"mt-4! max-h-100 overflow-auto",children:r}),t[2]=r,t[3]=a):a=t[3];let s;t[4]!==i||t[5]!==r?(s=p.jsx(xn,{open:i,list:r,setOpen:l}),t[4]=i,t[5]=r,t[6]=s):s=t[6];let o;return t[7]!==a||t[8]!==s?(o=p.jsxs(p.Fragment,{children:[c,a,s]}),t[7]=a,t[8]=s,t[9]=o):o=t[9],o}function qa(t){return{type:t.type,file:t.file,name:t.name,filePath:t.filePath,folderPath:t.folderPath}}const Ga=`import { useState } from 'react'
import DropElement from '../../../components/DropElement'
import type { FileTreeFileItem, FileItemType } from '../../../types/files'
import FilesUploadDrawer from '../../../components/FilesUploadDrawer'
import JsonView from '../../../components/JsonView'

function FileList() {
  const [listData, setListData] = useState<FileItemType[]>([])
  const [drawerOpen, setDrawerOpen] = useState(false)

  function onDropList(fileList: FileTreeFileItem[]) {
    setListData(changeFileTreeItemToFileItemType(fileList))
    setDrawerOpen(true)
  }
  function changeFileTreeItemToFileItemType(fileList: FileTreeFileItem[]): FileItemType[] {
    return fileList.map(item => ({
      type: item.type,
      file: item.file,
      name: item.name,
      filePath: item.filePath,
      folderPath: item.folderPath,
    }))
  }

  return (
    <>
      <DropElement targetType='list' onDrop={onDropList} className='mt-4'></DropElement>
      <JsonView className='mt-4! max-h-100 overflow-auto'>
        {listData}
      </JsonView>
      <FilesUploadDrawer
        open={drawerOpen}
        list={listData}
        setOpen={setDrawerOpen}
      />
    </>
  )
}

export default FileList
`;function fn(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...ot(),...t.components};return p.jsxs(p.Fragment,{children:[p.jsx(e.h1,{id:"dropelement",children:"DropElement"}),`
`,p.jsx(e.p,{children:"DropElement is a drag and drop component, which supports dragging multiple files/folders, and can specify whether the parameter type of the callback function is a file tree or a file list."}),`
`,p.jsx(e.h2,{id:"toc",children:"TOC"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsxs(e.li,{children:[p.jsx(e.a,{href:"#api",children:"API"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#parameters-props",children:"Parameters Props"})}),`
`]}),`
`]}),`
`,p.jsxs(e.li,{children:[p.jsx(e.a,{href:"#demos",children:"Demos"}),`
`,p.jsxs(e.ul,{children:[`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#file-tree",children:"File Tree"})}),`
`,p.jsx(e.li,{children:p.jsx(e.a,{href:"#file-list",children:"File List"})}),`
`]}),`
`]}),`
`]}),`
`,p.jsx(e.h2,{id:"api",children:"API"}),`
`,p.jsx(e.h3,{id:"parameters-props",children:"Parameters Props"}),`
`,p.jsx(e.pre,{children:p.jsx(e.code,{className:"language-ts",children:`export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeFileItem = Omit<FileItemType, 'type'> & {
  type: 'file'
}

export type FolderItemType = {
  type: 'folder'
  name: string
  filePath: string
  folderPath: string
  children: FileTreeItem[]
}
export type FileTreeItem = FileTreeFileItem | FolderItemType

export type TargetType = 'tree' | 'list'
`})}),`
`,p.jsx(e.pre,{children:p.jsx(e.code,{className:"language-ts",children:`import type { TargetType, FileTreeFileItem, FileTreeItem } from '../types/files'

export type DropElementProps<T extends TargetType> = {
  className?: string
  locale?: LocaleType
  targetType: T // Target type, tree for file tree, list for file list
  onDrop: (fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void
}
`})}),`
`,p.jsxs(e.table,{children:[p.jsx(e.thead,{children:p.jsxs(e.tr,{children:[p.jsx(e.th,{children:"Parameter"}),p.jsx(e.th,{children:"Description"}),p.jsx(e.th,{children:"Type"}),p.jsx(e.th,{children:"Default"})]})}),p.jsxs(e.tbody,{children:[p.jsxs(e.tr,{children:[p.jsx(e.td,{children:"className"}),p.jsx(e.td,{children:"Custom class name"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"string"})}),p.jsx(e.td,{children:"-"})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:"locale"}),p.jsx(e.td,{children:"Locale type"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'zh' | 'en'"})}),p.jsx(e.td,{children:p.jsx(e.code,{children:"zh"})})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:"type"}),p.jsx(e.td,{children:"Execution parameter type of onDrop, tree for file tree, list for file list"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"'tree' | 'list'"})}),p.jsx(e.td,{children:p.jsx(e.code,{children:"tree"})})]}),p.jsxs(e.tr,{children:[p.jsx(e.td,{children:"onDrop"}),p.jsx(e.td,{children:"Callback function when files/folders are dropped"}),p.jsx(e.td,{children:p.jsx(e.code,{children:"(fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void"})}),p.jsx(e.td,{children:"-"})]})]})]}),`
`,p.jsx(e.h2,{id:"demos",children:"Demos"}),`
`,p.jsx(e.h3,{id:"file-tree",children:"File Tree"}),`
`,p.jsx(at,{code:Wa,title:"File Tree",description:"Drag and drop files/folders to view the file structure.",children:p.jsx(Va,{})}),`
`,p.jsx(e.h3,{id:"file-list",children:"File List"}),`
`,p.jsx(at,{code:Ga,title:"File List",description:"Drag and drop files/folders to upload directly.",children:p.jsx(Xa,{})})]})}function Ya(t={}){const{wrapper:e}={...ot(),...t.components};return e?p.jsx(e,{...t,children:p.jsx(fn,{...t})}):fn(t)}function oo(){const t=Je.c(2),e=lr();let r;return t[0]!==e?(r=p.jsx("div",{className:"px-4 pb-4",children:p.jsx(sr,{children:e==="zh"?p.jsx(Ba,{}):p.jsx(Ya,{})})}),t[0]=e,t[1]=r):r=t[1],r}export{oo as default};
