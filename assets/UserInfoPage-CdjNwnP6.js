import{R as Q,b as a,j as R}from"./@uiw/react-codemirror-dimZJgSu.js";import{t as Y,G as A,D as U,n as w,H as P,w as Z,J as k,K as I,L as ee,x as te,y as le,N as ne,O as se,c as ae,b as ie,P as re,B as oe}from"./index-CwDalt6B.js";import{I as ce}from"./index-DvjyObLV.js";import"./react-syntax-highlighter-DW6ulm9l.js";import"./markdown-plugins-CqPL4kxN.js";import"./react-markdown-U0gPFawi.js";const de={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},V=Q.createContext(null),me=e=>Y(e).map(t=>({...t?.props,key:t.key}));function pe(e,t,n){const l=a.useMemo(()=>t||me(n),[t,n]);return a.useMemo(()=>l.map(({span:s,...r})=>s==="filled"?{...r,filled:!0}:{...r,span:typeof s=="number"?s:A(e,s)}),[l,e])}function ue(e,t){let n=[],l=[],i=!1,s=0;return e.filter(r=>r).forEach(r=>{const{filled:u,...o}=r;if(u){l.push(o),n.push(l),l=[],s=0;return}const c=t-s;s+=r.span||1,s>=t?(s>t?(i=!0,l.push({...o,span:c})):l.push(o),n.push(l),l=[],s=0):l.push(o)}),l.length>0&&n.push(l),n=n.map(r=>{const u=r.reduce((o,c)=>o+(c.span||1),0);if(u<t){const o=r[r.length-1];return o.span=t-(u-(o.span||1)),r}return r}),[n,i]}const fe=(e,t)=>{const[n,l]=a.useMemo(()=>ue(t,e),[t,e]);return n},be=e=>e.children,H=e=>{const{itemPrefixCls:t,component:n,span:l,className:i,style:s,labelStyle:r,contentStyle:u,bordered:o,label:c,content:d,colon:h,type:p,styles:f,classNames:b}=e,g=n,{classNames:y,styles:x}=a.useContext(V),[m,S]=U([y,b],[x,f],{props:e}),C={...r,...S.label},E={...u,...S.content};return o?a.createElement(g,{colSpan:l,style:s,className:w(i,{[`${t}-item-${p}`]:p==="label"||p==="content",[m.label]:m.label&&p==="label",[m.content]:m.content&&p==="content"})},P(c)&&a.createElement("span",{style:C},c),P(d)&&a.createElement("span",{style:E},d)):a.createElement(g,{className:w(`${t}-item`,i),style:s,colSpan:l},a.createElement("div",{className:`${t}-item-container`},P(c)&&a.createElement("span",{style:C,className:w(`${t}-item-label`,m.label,{[`${t}-item-no-colon`]:!h})},c),P(d)&&a.createElement("span",{style:E,className:w(`${t}-item-content`,m.content)},d)))};function G(e,{colon:t,prefixCls:n,bordered:l},{component:i,type:s,showLabel:r,showContent:u,labelStyle:o,contentStyle:c,styles:d}){return e.map(({label:h,children:p,prefixCls:f=n,className:b,style:g,labelStyle:y,contentStyle:x,span:m=1,key:S,styles:C,classNames:E},N)=>typeof i=="string"?a.createElement(H,{key:`${s}-${S||N}`,className:b,style:g,classNames:E,styles:{label:{...o,...d?.label,...y,...C?.label},content:{...c,...d?.content,...x,...C?.content}},span:m,colon:t,component:i,itemPrefixCls:f,bordered:l,label:r?h:null,content:u?p:null,type:s}):[a.createElement(H,{key:`label-${S||N}`,className:b,style:{...o,...d?.label,...g,...y,...C?.label},span:1,colon:t,component:i[0],itemPrefixCls:f,bordered:l,label:h,type:"label"}),a.createElement(H,{key:`content-${S||N}`,className:b,style:{...c,...d?.content,...g,...x,...C?.content},span:m*2-1,component:i[1],itemPrefixCls:f,bordered:l,content:p,type:"content"})])}const ge=e=>{const t=a.useContext(V),{prefixCls:n,vertical:l,row:i,index:s,bordered:r}=e;return l?a.createElement(a.Fragment,null,a.createElement("tr",{key:`label-${s}`,className:`${n}-row`},G(i,e,{component:"th",type:"label",showLabel:!0,...t})),a.createElement("tr",{key:`content-${s}`,className:`${n}-row`},G(i,e,{component:"td",type:"content",showContent:!0,...t}))):a.createElement("tr",{key:s,className:`${n}-row`},G(i,e,{component:r?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,...t}))},$e=e=>{const{componentCls:t,labelBg:n}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.padding)} ${I(e.paddingLG)}`,borderInlineEnd:`${I(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.paddingSM)} ${I(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${I(e.paddingXS)} ${I(e.padding)}`}}}}}},he=e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:l,itemPaddingEnd:i,colonMarginRight:s,colonMarginLeft:r,titleMarginBottom:u}=e;return{[t]:{...te(e),...$e(e),"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:u},[`${t}-title`]:{...ee,flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG},[`${t}-extra`]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:l,paddingInlineEnd:i},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${I(r)} ${I(s)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}}}},ye=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),xe=Z("Descriptions",e=>{const t=k(e,{});return he(t)},ye),X=e=>{const{prefixCls:t,title:n,extra:l,column:i,colon:s=!0,bordered:r,layout:u,children:o,className:c,rootClassName:d,style:h,size:p,labelStyle:f,contentStyle:b,styles:g,items:y,classNames:x,...m}=e,{getPrefixCls:S,direction:C,className:E,style:N,classNames:v,styles:B}=le("descriptions"),$=S("descriptions",t),T=ne(),W=a.useMemo(()=>typeof i=="number"?i:A(T,{...de,...i})??3,[T,i]),j=pe(T,y,o),z=se(p),F=fe(W,j),[O,_]=xe($),J={...e,column:W,items:j,size:z},[L,M]=U([v,x],[B,g],{props:J}),K=a.useMemo(()=>({labelStyle:f,contentStyle:b,styles:{label:M.label,content:M.content},classNames:{label:w(L.label),content:w(L.content)}}),[f,b,M.label,M.content,L.label,L.content]);return a.createElement(V.Provider,{value:K},a.createElement("div",{className:w($,E,L.root,{[`${$}-${z}`]:z&&z!=="default",[`${$}-bordered`]:!!r,[`${$}-rtl`]:C==="rtl"},c,d,O,_),style:{...N,...M.root,...h},...m},(n||l)&&a.createElement("div",{className:w(`${$}-header`,L.header),style:M.header},n&&a.createElement("div",{className:w(`${$}-title`,L.title),style:M.title},n),l&&a.createElement("div",{className:w(`${$}-extra`,L.extra),style:M.extra},l)),a.createElement("div",{className:`${$}-view`},a.createElement("table",null,a.createElement("tbody",null,F.map((q,D)=>a.createElement(ge,{key:D,index:D,colon:s,prefixCls:$,vertical:u==="vertical",bordered:r,row:q})))))))};X.Item=be;function ve(){const e=ae.c(50),{t}=ie(),{id:n,name:l,img:i,badge:s,permissionList:r,changeUserInfo:u}=re();let o;e[0]!==n?(o={label:"Id",children:n},e[0]=n,e[1]=o):o=e[1];let c;e[2]!==t?(c=t("userInfo.name",{defaultValue:"用户名"}),e[2]=t,e[3]=c):c=e[3];let d;e[4]!==l||e[5]!==c?(d={label:c,children:l,span:"filled"},e[4]=l,e[5]=c,e[6]=d):d=e[6];let h;e[7]!==t?(h=t("userInfo.badge",{defaultValue:"用户消息"}),e[7]=t,e[8]=h):h=e[8];let p;e[9]!==s||e[10]!==h?(p={label:h,children:s},e[9]=s,e[10]=h,e[11]=p):p=e[11];let f;e[12]!==t?(f=t("userInfo.permissionList",{defaultValue:"权限列表"}),e[12]=t,e[13]=f):f=e[13];let b;e[14]!==r?(b=r?.join(", ")||"",e[14]=r,e[15]=b):b=e[15];let g;e[16]!==f||e[17]!==b?(g={label:f,children:b,span:"filled"},e[16]=f,e[17]=b,e[18]=g):g=e[18];let y;e[19]!==t?(y=t("userInfo.img",{defaultValue:"用户头像"}),e[19]=t,e[20]=y):y=e[20];let x;e[21]!==i||e[22]!==l?(x=R.jsx(ce,{width:80,alt:l,src:i}),e[21]=i,e[22]=l,e[23]=x):x=e[23];let m;e[24]!==y||e[25]!==x?(m={label:y,children:x,span:"filled"},e[24]=y,e[25]=x,e[26]=m):m=e[26];let S;e[27]!==o||e[28]!==m||e[29]!==d||e[30]!==p||e[31]!==g?(S=[o,d,p,g,m],e[27]=o,e[28]=m,e[29]=d,e[30]=p,e[31]=g,e[32]=S):S=e[32];const C=S;let E;e[33]!==t?(E=t("userInfo.title",{defaultValue:"用户信息"}),e[33]=t,e[34]=E):E=e[34];let N;e[35]!==s||e[36]!==u||e[37]!==n||e[38]!==i||e[39]!==l?(N=()=>{u({id:n,name:l==="admin"?"user":"admin",img:i,badge:s,permissionList:l==="admin"?["01","02"]:["01","02","03","09"]})},e[35]=s,e[36]=u,e[37]=n,e[38]=i,e[39]=l,e[40]=N):N=e[40];let v;e[41]!==t?(v=t("userInfo.edit",{defaultValue:"编辑权限"}),e[41]=t,e[42]=v):v=e[42];let B;e[43]!==N||e[44]!==v?(B=R.jsx(oe,{type:"primary",onClick:N,children:v}),e[43]=N,e[44]=v,e[45]=B):B=e[45];let $;return e[46]!==C||e[47]!==E||e[48]!==B?($=R.jsx("div",{className:"px-4 pb-4",children:R.jsx(X,{bordered:!0,title:E,items:C,extra:B})}),e[46]=C,e[47]=E,e[48]=B,e[49]=$):$=e[49],$}export{ve as default};
