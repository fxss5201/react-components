import React from 'react'
import FileTree from './FileTree'
import FileTreeRaw from './FileTree.tsx?raw'
import FileList from './FileList'
import FileListRaw from './FileList.tsx?raw'
import Playground from '../../components/Playground'

# DropElement

拖拽组件，支持拖拽多个文件/文件夹，可以指定回调函数的参数类型是 文件树 还是 文件列表。

## 目录

## API

### 参数 Props

``` ts
export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeFileItem = Omit<FileItemType, 'type'> & {
  type: 'file'
}

export type FolderItemType = {
  type: 'folder'
  name: string
  filePath: string
  folderPath: string
  children: FileTreeItem[]
}
export type FileTreeItem = FileTreeFileItem | FolderItemType

export type TargetType = 'tree' | 'list'
```

``` ts
import type { TargetType, FileTreeFileItem, FileTreeItem } from '../types/files'

export type DropElementProps<T extends TargetType> = {
  className?: string
  locale?: LocaleType
  targetType: T // 执行 onDrop 时，参数的类型， tree 时为文件树，list 时为文件列表
  onDrop: (fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void
  children?: React.ReactNode
}
```

| 属性 | 说明 | 类型 | 默认值 |
| --- | --- | --- | --- |
| `className` | 自定义class类名 | `string` | - |
| `locale` | 语言 | `'zh' \| 'en'` | `'zh'` |
| `type` | 回调函数参数类型 | `'tree' \| 'list'` | `'tree'` |
| `onDrop` | 拖拽结束后的回调函数 | `(fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void` | - |
| `children` | 自定义内容 | `React.ReactNode` | - |

## 演示示例

### 文件树

<Playground code={FileTreeRaw} title='文件树' description='拖拽文件/文件夹到此处，使用文件树查看文件结构。'>
  <FileTree />
</Playground>

### 文件列表

<Playground code={FileListRaw} title='文件列表' description='拖拽文件/文件夹到此处，使用文件列表直接上传。'>
  <FileList />
</Playground>
