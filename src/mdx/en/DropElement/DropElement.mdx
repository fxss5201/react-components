import React from 'react'
import FileTree from './FileTree'
import FileTreeRaw from './FileTree.tsx?raw'
import FileList from './FileList'
import FileListRaw from './FileList.tsx?raw'
import Playground from '../../../components/Playground'

# DropElement

DropElement is a drag and drop component, which supports dragging multiple files/folders, and can specify whether the parameter type of the callback function is a file tree or a file list.

## TOC

## API

### Parameters Props

``` ts
export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeFileItem = Omit<FileItemType, 'type'> & {
  type: 'file'
}

export type FolderItemType = {
  type: 'folder'
  name: string
  filePath: string
  folderPath: string
  children: FileTreeItem[]
}
export type FileTreeItem = FileTreeFileItem | FolderItemType

export type TargetType = 'tree' | 'list'
```

``` ts
import type { TargetType, FileTreeFileItem, FileTreeItem } from '../types/files'

export type DropElementProps<T extends TargetType> = {
  className?: string
  locale?: LocaleType
  targetType: T // Target type, tree for file tree, list for file list
  onDrop: (fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void
}
```

| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| className | Custom class name | `string` | - |
| locale | Locale type | `'zh' \| 'en'` | `zh` |
| type | Execution parameter type of onDrop, tree for file tree, list for file list | `'tree' \| 'list'` | `tree` |
| onDrop | Callback function when files/folders are dropped | `(fileTrees: T extends 'tree' ? FileTreeItem[] : FileTreeFileItem[]) => void` | - |

## Demos

### File Tree

<Playground code={FileTreeRaw} title='File Tree' description='Drag and drop files/folders to view the file structure.'>
  <FileTree />
</Playground>

### File List

<Playground code={FileListRaw} title='File List' description='Drag and drop files/folders to upload directly.'>
  <FileList />
</Playground>
