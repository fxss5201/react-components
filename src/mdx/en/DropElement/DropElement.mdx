import React from 'react'
import FileTree from './FileTree'
import FileTreeRaw from './FileTree.tsx?raw'
import FileList from './FileList'
import FileListRaw from './FileList.tsx?raw'
import Playground from '@/components/Playground'
import FileSelectAndDropTree from './FileSelectAndDropTree'
import FileSelectAndDropTreeRaw from './FileSelectAndDropTree?raw'

# DropElement

DropElement is a drag and drop component, which supports dragging multiple files/folders, and can specify whether the parameter type of the callback function is a file tree or a file list.

## TOC

## API

### Parameters Props

``` ts
export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeItem = FileItemType & {
  children?: FileTreeItem[]
}

export type TargetType = 'tree' | 'list'
```

``` ts
export type DropElementProps = {
  targetType?: TargetType // 执行 onSelect 时，参数的类型， tree 时为文件树，list 时为文件列表
  isIgnoreFolder?: boolean // 当 targetType 为 'list' 时，是否忽略文件夹，比如说上传文件的时候，只需要上传文件，不需要上传文件夹
  isUpload?: boolean
  onSelect: (fileTrees: FileTreeItem[]) => void
  className?: string
  children?: React.ReactNode
}
```

| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| `targetType` | Execution parameter type of onSelect, tree for file tree, list for file list | `'tree' \| 'list'` | `tree` |
| `isIgnoreFolder` | Whether to ignore folders when targetType is 'list', for example, when uploading files, only files need to be uploaded, not folders | `boolean` | `false` |
| `isUpload` | Whether to upload files/folders, only used to change the text of the select/upload button | `boolean` | `false` |
| `onSelect` | Callback function when files/folders are dropped | `(fileTrees: FileTreeItem[]) => void` | - |
| `className` | Custom class name | `string` | - |
| `children` | Custom children | `React.ReactNode` | - |

## Demos

### File Tree

<Playground code={FileTreeRaw} title='File Tree' description='Drag and drop files/folders to view the file structure.'>
  <FileTree />
</Playground>

### File List

<Playground code={FileListRaw} title='File List' description='Drag and drop files/folders to upload directly.'>
  <FileList />
</Playground>

### File Select and Drop Tree

<Playground code={FileSelectAndDropTreeRaw} title='File Select and Drop Tree' description='Select and drag files, and view the results.'>
  <FileSelectAndDropTree />
</Playground>
