import React from 'react'
import Playground from '@/components/Playground'
import FilesDropSelectDemo from './FilesDropSelectDemo'
import FilesDropSelectDemoRaw from './FilesDropSelectDemo?raw'

# FilesDropSelect

Drag and select files/folders, is a combination component of `DropElement` and `FilesSelect`.

## TOC

## API

### Parameters Props

``` ts
export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeItem = FileItemType & {
  children?: FileTreeItem[]
}

export type TargetType = 'tree' | 'list'
```

``` ts
export type DropElementProps = {
  targetType?: TargetType // 执行 onSelect 时，参数的类型， tree 时为文件树，list 时为文件列表
  isIgnoreFolder?: boolean // 当 targetType 为 'list' 时，是否忽略文件夹，比如说上传文件的时候，只需要上传文件，不需要上传文件夹
  isUpload?: boolean
  onSelect: (fileTrees: FileTreeItem[]) => void
  classNames?: {
    dropElement?: string
    filesSelect?: string
  }
  childrens?: {
    dropElement?: React.ReactNode
    filesSelect?: React.ReactNode
  }
}
```


| Parameter | Description | Type | Default |
| --------- | ----------- | ---- | ------- |
| `targetType` | Execution parameter type of onSelect, tree for file tree, list for file list | `'tree' \| 'list'` | `tree` |
| `isIgnoreFolder` | Whether to ignore folders when targetType is 'list', for example, when uploading files, only files need to be uploaded, not folders | `boolean` | `false` |
| `isUpload` | Whether to upload files/folders, only used to change the text of the select/upload button | `boolean` | `false` |
| `onSelect` | Callback function when files/folders are dropped | `(fileTrees: FileTreeItem[]) => void` | - |
| `classNames` | Custom class names, respectively corresponding to `DropElement` and `FilesSelect` | `{ dropElement?: string, filesSelect?: string }` | - |
| `childrens` | Custom content, respectively corresponding to `DropElement` and `FilesSelect`, setting will override default content | `{ dropElement?: React.ReactNode, filesSelect?: React.ReactNode }` | - |

## Demos

### Drop and Select Files/Folders

<Playground code={FilesDropSelectDemoRaw} title='Drag and Select Files/Folders' description='Drag and select files/folders, and view the results.'>
  <FilesDropSelectDemo />
</Playground>
