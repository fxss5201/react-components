import React from 'react'
import Playground from '@/components/Playground'
import FilesDropSelectDemo from './FilesDropSelectDemo'
import FilesDropSelectDemoRaw from './FilesDropSelectDemo?raw'

# FilesDropSelect

可以支持拖拽或者选择 文件/文件夹，是 `DropElement` 和 `FilesSelect` 的组合组件。

## 目录

## API

### 参数 Props

``` ts
export type FileType = 'file' | 'folder'
export type FileItemType = {
  type: FileType
  file?: File
  name: string
  size?: number
  filePath: string
  folderPath: string
}

export type FileTreeItem = FileItemType & {
  children?: FileTreeItem[]
}

export type TargetType = 'tree' | 'list'
```

``` ts
export type DropElementProps = {
  targetType?: TargetType // 执行 onSelect 时，参数的类型， tree 时为文件树，list 时为文件列表
  isIgnoreFolder?: boolean // 当 targetType 为 'list' 时，是否忽略文件夹，比如说上传文件的时候，只需要上传文件，不需要上传文件夹
  isUpload?: boolean
  onSelect: (fileTrees: FileTreeItem[]) => void
  classNames?: {
    dropElement?: string
    filesSelect?: string
  }
  childrens?: {
    dropElement?: React.ReactNode
    filesSelect?: React.ReactNode
  }
}
```

| 属性 | 说明 | 类型 | 默认值 |
| --- | --- | --- | --- |
| `targetType` | 回调函数参数类型 | `'tree' \| 'list'` | `'tree'` |
| `isIgnoreFolder` | 当 targetType 为 'list' 时，是否忽略文件夹，比如说上传文件的时候，只需要上传文件，不需要上传文件夹 | `boolean` | `false` |
| `isUpload` | 是否上传文件/文件夹，仅用于文案 | `boolean` | `false` |
| `onSelect` | 拖拽结束后的回调函数 | `(fileTrees: FileTreeItem[]) => void` | - |
| `classNames` | 自定义class类名，分别对应 `DropElement` 和 `FilesSelect` | `{ dropElement?: string, filesSelect?: string }` | - |
| `childrens` | 自定义内容，分别对应 `DropElement` 和 `FilesSelect`，设置后会覆盖默认内容 | `{ dropElement?: React.ReactNode, filesSelect?: React.ReactNode }` | - |

## 演示示例

### 拖拽和选择文件/文件夹

<Playground code={FilesDropSelectDemoRaw} title='拖拽和选择文件/文件夹' description='拖拽和选择文件/文件夹，并查看结果。'>
  <FilesDropSelectDemo />
</Playground>
